"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9654],{53601:function(e,t,n){n.d(t,{l:function(){return D},W:function(){return C}});var r=n(59499),a=n(4730),s=n(49501),u=n(33740),i=n(62097),o=n(61953),c=n(29630),l=n(90149),p=n(81011),d=n(80562),m=n(55343),f=n(92012),x=n(31538),h=n(61702),v=n(75084),A=n(67294),y=n(57333),b=n(8656),g=n(25049),_=n(41024),O=n(72667),E=n(85893),w=["onChange"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=A.forwardRef((function(e,t){var n=e.onChange,r=(0,a.Z)(e,w);return(0,E.jsx)(y.Z,S(S({},r),{},{getInputRef:t,onValueChange:function(t){t.value!==e.value&&n({target:{name:e.name,value:t.value||""}})},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))})),C=function(e){var t=e.value,n=e.usdValue,r=e.symbol,a=e.onChange,A=e.disabled,y=e.disableInput,w=e.onSelect,T=e.assets,C=e.capType,j=e.maxValue,Z=e.isMaxSelected,I=e.inputTitle,L=e.balanceText,N=e.loading,k=void 0!==N&&N,B=e.event,P=e.selectOptionHeader,U=e.selectOption,R=e.sx,V=void 0===R?{}:R,z=(0,i.Z)(),F=(0,b.Yh)((function(e){return e.trackEvent})),H=1===T.length?T[0]:T&&T.find((function(e){return e.symbol===r}));return(0,E.jsxs)(o.Z,S(S({},V),{},{children:[(0,E.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,E.jsx)(c.Z,{color:"text.secondary",children:I||(0,E.jsx)(s.cC,{id:"Amount"})}),C&&(0,E.jsx)(g.Y,{capType:C})]}),(0,E.jsxs)(o.Z,{sx:function(e){return{p:"8px 12px",border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",mb:1}},children:[(0,E.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",mb:.5},children:[k?(0,E.jsx)(o.Z,{sx:{flex:1},children:(0,E.jsx)(l.Z,{color:"inherit",size:"16px"})}):(0,E.jsx)(p.ZP,{sx:{flex:1},placeholder:"0.00",disabled:A||y,value:t,autoFocus:!0,onChange:function(e){a&&(Number(e.target.value)>Number(j)?a("-1"):a(e.target.value))},inputProps:{"aria-label":"amount input",style:{fontSize:"21px",lineHeight:"28,01px",padding:0,height:"28px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},inputComponent:D}),""!==t&&!y&&(0,E.jsx)(d.Z,{sx:{minWidth:0,p:0,left:8,zIndex:1,color:"text.muted","&:hover":{color:"text.secondary"}},onClick:function(){a&&a("")},disabled:A,children:(0,E.jsx)(u.Z,{height:16})}),w&&1!==T.length?(0,E.jsx)(m.Z,{children:(0,E.jsxs)(f.Z,{disabled:A,value:H.symbol,onChange:function(e){var t=T.find((function(t){return t.symbol===e.target.value}));w&&w(t),a&&a("")},variant:"outlined",className:"AssetInput__select","data-cy":"assetSelect",MenuProps:{sx:{maxHeight:"240px",".MuiPaper-root":{border:"dark"===z.palette.mode?"1px solid #EBEBED1F":"unset",boxShadow:"0px 2px 10px 0px #0000001A"}}},sx:{p:0,"&.AssetInput__select .MuiOutlinedInput-input":{p:0,backgroundColor:"transparent",pr:"24px !important"},"&.AssetInput__select .MuiOutlinedInput-notchedOutline":{display:"none"},"&.AssetInput__select .MuiSelect-icon":{color:"text.primary",right:"0%"}},renderValue:function(e){var t=1===T.length?T[0]:T&&T.find((function(t){return t.symbol===e}));return(0,E.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},"data-cy":"assetsSelectedOption_".concat(t.symbol.toUpperCase()),children:[(0,E.jsx)(O.T1,{symbol:t.iconSymbol||t.symbol,aToken:t.aToken,sx:{mr:2,ml:4}}),(0,E.jsx)(c.Z,{variant:"main16",color:"text.primary",children:e})]})},children:[P||void 0,T.map((function(e){return(0,E.jsx)(x.Z,{value:e.symbol,"data-cy":"assetsSelectOption_".concat(e.symbol.toUpperCase()),children:U?U(e):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(O.T1,{aToken:e.aToken,symbol:e.iconSymbol||e.symbol,sx:{fontSize:"22px",mr:1}}),(0,E.jsx)(h.Z,{sx:{mr:6},children:e.symbol}),e.balance&&(0,E.jsx)(_.B,{value:e.balance,compact:!0})]})},e.symbol)}))]})}):(0,E.jsxs)(o.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,E.jsx)(O.T1,{aToken:H.aToken,symbol:H.iconSymbol||H.symbol,sx:{mr:2,ml:4}}),(0,E.jsx)(c.Z,{variant:"h3",sx:{lineHeight:"28px"},"data-cy":"inputAsset",children:r})]})]}),(0,E.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",height:"16px"},children:[k?(0,E.jsx)(o.Z,{sx:{flex:1}}):(0,E.jsx)(_.B,{value:isNaN(Number(n))?0:Number(n),compact:!0,symbol:"USD",variant:"secondary12",color:"text.muted",symbolsColor:"text.muted",flexGrow:1}),H.balance&&a&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(c.Z,{component:"div",variant:"secondary12",color:"text.secondary",children:[L&&""!==L?L:(0,E.jsx)(s.cC,{id:"Balance"})," ",(0,E.jsx)(_.B,{value:H.balance,compact:!0,variant:"secondary12",color:"text.secondary",symbolsColor:"text.disabled"})]}),!y&&(0,E.jsx)(v.Z,{size:"small",sx:{minWidth:0,ml:"7px",p:0},onClick:function(){B&&F(B.eventName,S({},B.eventParams)),a("-1")},disabled:A||Z,children:(0,E.jsx)(s.cC,{id:"Max"})})]})]})]})]}))}},94671:function(e,t,n){n.d(t,{NI:function(){return r},gK:function(){return u},pQ:function(){return i},Fi:function(){return o},iv:function(){return c},Vc:function(){return l},yI:function(){return p}});var r,a=n(70794),s=n(29946);!function(e){e[e.SUPPLY_CAP_REACHED=0]="SUPPLY_CAP_REACHED",e[e.HF_BELOW_ONE=1]="HF_BELOW_ONE",e[e.NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH=2]="NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH",e[e.ZERO_LTV_WITHDRAW_BLOCKED=3]="ZERO_LTV_WITHDRAW_BLOCKED"}(r||(r={}));var u=function(e,t){return"-1"!==e&&new a.O(e).minus(new a.O(t)).lt("1.05")},i=65e3,o=55e3,c=function(e){var t=e.approvedAmount,n=e.signedAmount,r=e.amount;return!("-1"===t||"-1"===n||"0"!==t&&Number(t)>=Number(r)||Number(n)>=Number(r))},l=function(e){var t=[];return e.userReservesData.forEach((function(e){Number(e.scaledATokenBalance)>0&&"0"===e.reserve.baseLTVasCollateral&&e.usageAsCollateralEnabledOnUser&&"0"!==e.reserve.reserveLiquidationThreshold&&t.push(e.reserve.symbol)})),t},p=function(e,t,n,r){var a=e.reserve;if(!a.usageAsCollateralEnabled)return s.z.UNAVAILABLE;var u=s.z.ENABLED,i=e&&"0"!==e.scaledATokenBalance,o="0"!==t;return a.isIsolated?r?u=s.z.UNAVAILABLE:n?i?u=e.usageAsCollateralEnabledOnUser?s.z.ISOLATED_ENABLED:s.z.DISABLED:o&&(u=s.z.UNAVAILABLE_DUE_TO_ISOLATION):u=o?s.z.ISOLATED_DISABLED:s.z.ISOLATED_ENABLED:u=n?s.z.UNAVAILABLE_DUE_TO_ISOLATION:i?e.usageAsCollateralEnabledOnUser?s.z.ENABLED:s.z.DISABLED:s.z.ENABLED,u}},74119:function(e,t,n){n.d(t,{w_:function(){return b},rG:function(){return g},aE:function(){return E},xS:function(){return w},F8:function(){return S},_n:function(){return C},wP:function(){return Z},Ik:function(){return k},sm:function(){return B}});var r=n(50029),a=n(87794),s=n.n(a),u=n(75331),i=n(80854),o=n(1279),c=n(35977),l=n(3330),p=n(79643),d=function(e){var t=(0,p.Sv)(fetch);return(0,p.A6)({chainId:e,fetcher:t},p.QA,p.TG)},m=d(u.a_.mainnet),f=d(u.a_.polygon),x=d(u.a_.avalanche),h=d(u.a_.fantom),v=d(u.a_.arbitrum_one),A=d(u.a_.optimism),y=d(u.a_.base),b=function(e){if(u.a_.mainnet===e)return m;if(u.a_.polygon===e)return f;if(u.a_.avalanche===e)return x;if(u.a_.fantom===e)return h;if(u.a_.arbitrum_one===e)return v;if(u.a_.optimism===e)return A;if(u.a_.base===e)return y;throw new Error("chain not supported")},g=function(e){return u.a_.base===e?c.Uc:l.Uc},_={ESTIMATED_LOSS_GREATER_THAN_MAX_IMPACT:"Price impact too high. Please try a different amount or asset pair.","No routes found with enough liquidity":"No routes found with enough liquidity."},O=[{regex:/^Amount \d+ is too small to proceed$/,message:"Amount is too small. Please try larger amount."}];function E(e){var t;return e in _?_[e]:(null===(t=O.find((function(t){return t.regex.test(e)})))||void 0===t?void 0:t.message)||"There was an issue fetching data from Paraswap"}function w(e,t,n,r,a,s){return T.apply(this,arguments)}function T(){return(T=(0,r.Z)(s().mark((function e(t,n,r,a,u,i){var c,l,p,d,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=L(a),e.next=3,c.getTransactionParams(n.underlyingAsset,n.decimals,r.underlyingAsset,r.decimals,u,t,i);case 3:return l=e.sent,p=l.swapCallData,d=l.augustus,m=l.destAmountWithSlippage,e.abrupt("return",{swapCallData:p,augustus:d,inputAmount:(0,o.Fv)(t.srcAmount,n.decimals),outputAmount:(0,o.Fv)(m,r.decimals),inputAmountUSD:t.srcUSD,outputAmountUSD:t.destUSD});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,n,r,a){return D.apply(this,arguments)}function D(){return(D=(0,r.Z)(s().mark((function e(t,n,r,a,u){var i,c,l,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,o.hE)(t.amount),u&&"0"!==t.supplyAPY&&(i=i.plus(i.multipliedBy(t.supplyAPY).dividedBy(8640))),c=(0,o.pV)(i,-1*t.decimals),l={partner:"aave"},u&&(l.excludeContractMethods=[p.OZ.simpleSwap,p.OZ.directUniV3Swap,p.OZ.directBalancerV2GivenInSwap,p.OZ.directBalancerV2GivenOutSwap,p.OZ.directCurveV1Swap,p.OZ.directCurveV2Swap]),d=L(r),e.next=8,d.getRate(c.toFixed(0),t.underlyingAsset,t.decimals,n.underlyingAsset,n.decimals,a,l);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t,n,r,a,s){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(s().mark((function e(t,n,r,a,u,i){var c,l,p,d,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=N(a),e.next=3,c.getTransactionParams(n.underlyingAsset,n.decimals,r.underlyingAsset,r.decimals,u,t,i);case 3:return l=e.sent,p=l.swapCallData,d=l.augustus,m=l.srcAmountWithSlippage,e.abrupt("return",{swapCallData:p,augustus:d,inputAmount:(0,o.Fv)(m,n.decimals),outputAmount:(0,o.Fv)(t.destAmount,r.decimals),inputAmountUSD:t.srcUSD,outputAmountUSD:t.destUSD});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t,n,r,a){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)(s().mark((function e(t,n,r,a,u){var i,c,l,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,o.hE)(n.amount),u&&(i=i.plus(i.multipliedBy(t.variableBorrowAPY).dividedBy(8640))),c=(0,o.pV)(i,-1*n.decimals),l={partner:"aave"},u&&(l.excludeContractMethods=[p.OZ.simpleBuy,p.OZ.directUniV3Buy,p.OZ.directBalancerV2GivenOutSwap]),d=N(r),e.next=8,d.getRate(c.toFixed(0),t.underlyingAsset,t.decimals,n.underlyingAsset,n.decimals,a,l);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=function(e){var t=b(e),n=g(e),a=function(){var e=(0,r.Z)(s().mark((function e(n,r,a,u,i,o,c){var l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRate({amount:n,srcToken:r,srcDecimals:a,destToken:u,destDecimals:i,userAddress:o,side:p.PC.SELL,options:c});case 2:return l=e.sent,e.abrupt("return",l);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,s,u,i){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(s().mark((function e(r,a,u,i,c,l,p){var d,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=new o.rh(l.destAmount).multipliedBy(100-p).dividedBy(100).toFixed(0),e.prev=1,e.next=4,t.buildTx({srcToken:r,srcDecimals:a,srcAmount:l.srcAmount,destToken:u,destDecimals:i,destAmount:d,priceRoute:l,userAddress:c,partnerAddress:n,takeSurplus:!0},{ignoreChecks:!0});case 4:return m=e.sent,e.abrupt("return",{swapCallData:m.data,augustus:m.to,destAmountWithSlippage:d});case 8:throw e.prev=8,e.t0=e.catch(1),console.error(e.t0),new Error("Error building transaction parameters");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,r,a,s,u,i){return e.apply(this,arguments)}}();return{getRate:a,getTransactionParams:u}},N=function(e){var t=b(e),n=function(){var e=(0,r.Z)(s().mark((function e(n,r,a,u,i,o,c){var l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRate({amount:n,srcToken:r,srcDecimals:a,destToken:u,destDecimals:i,userAddress:o,side:p.PC.BUY,options:c});case 2:return l=e.sent,e.abrupt("return",l);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,s,u,i){return e.apply(this,arguments)}}(),a=function(){var n=(0,r.Z)(s().mark((function n(r,a,u,i,c,l,p){var d,m,f;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d=new o.rh(l.srcAmount).multipliedBy(100+p).dividedBy(100).toFixed(0),m=g(e),n.prev=2,n.next=5,t.buildTx({srcToken:r,destToken:u,srcAmount:d,destAmount:l.destAmount,priceRoute:l,userAddress:c,partnerAddress:m,takeSurplus:!0,srcDecimals:a,destDecimals:i},{ignoreChecks:!0});case 5:return f=n.sent,n.abrupt("return",{swapCallData:f.data,augustus:f.to,srcAmountWithSlippage:d});case 9:throw n.prev=9,n.t0=n.catch(2),console.log(n.t0),new Error("Error building transaction parameters");case 13:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e,t,r,a,s,u,i){return n.apply(this,arguments)}}();return{getRate:n,getTransactionParams:a}},k=.1,B=function(e,t,n){var r=Number(e)+Number(e)*(null!==n&&void 0!==n?n:k);return(0,i.gU)(r.toString(),t)}}}]);