"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8373],{25563:function(e,t,n){n.d(t,{hu:function(){return d},St:function(){return p},gO:function(){return f}});var r=n(59499),s=(n(49501),n(61953)),i=n(72389),o=(n(67294),n(8656),n(57609),n(46930),n(48351)),a=(n(34637),n(59379),n(85893));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l,d=function(e){var t=o.ei[e];return{market:t,network:o.m5[t.chainId]}},p=function(e){var t=["G\xf6rli","Ropsten","Mumbai","Sepolia","Fuji","Testnet","Kovan","Rinkeby"],n=e.split(" "),r=n.filter((function(e){return t.indexOf(e)>-1}));return{name:n.filter((function(e){return!r.includes(e)})).join(" "),testChainName:r[0]}},f=function(e){var t=e.size,n=e.logo,r=e.testChainName,o=e.sx;return(0,a.jsxs)(s.Z,{sx:u({mr:2,width:t,height:t,position:"relative"},o),children:[(0,a.jsx)("img",{src:n,alt:"",width:"100%",height:"100%"}),r&&(0,a.jsx)(i.Z,{title:r,arrow:!0,children:(0,a.jsx)(s.Z,{sx:{bgcolor:"#29B6F6",width:"16px",height:"16px",borderRadius:"50%",color:"common.white",fontSize:"12px",lineHeight:"16px",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",right:"-2px",bottom:"-2px"},children:r.split("")[0]})})]})};!function(e){e[e.V2=0]="V2",e[e.V3=1]="V3"}(l||(l={}))},34637:function(e,t,n){n.d(t,{Y:function(){return d},Z:function(){return p}});var r=n(59499),s=n(81719),i=n(87054),o=(n(67294),n(85893));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,s.ZP)(i.Z)((function(e){var t=e.theme;return{border:"0px",flex:1,backgroundColor:"#535047",borderRadius:"4px","&.Mui-selected, &.Mui-selected:hover":{backgroundColor:"#FFFFFF",borderRadius:"4px !important"},"&.Mui-selected, &.Mui-disabled":{zIndex:100,height:"100%",display:"flex",justifyContent:"center",".MuiTypography-subheader1":{background:t.palette.gradients.aaveGradient,backgroundClip:"text",textFillColor:"transparent"},".MuiTypography-secondary14":{background:t.palette.gradients.aaveGradient,backgroundClip:"text",textFillColor:"transparent"}}}})),l=(0,s.ZP)(i.Z)((function(e){var t=e.theme;return{border:"0px",flex:1,color:t.palette.text.muted,borderRadius:"4px","&.Mui-selected, &.Mui-selected:hover":{border:"1px solid ".concat(t.palette.other.standardInputLine),backgroundColor:"#FFFFFF",borderRadius:"4px !important"},"&.Mui-selected, &.Mui-disabled":{zIndex:100,height:"100%",display:"flex",justifyContent:"center",color:t.palette.background.header}}}));function d(e){return(0,o.jsx)(l,c({},e))}function p(e){return(0,o.jsx)(u,c({},e))}},59379:function(e,t,n){n.d(t,{f:function(){return d},Z:function(){return p}});var r=n(59499),s=n(81719),i=n(85390),o=n(85893);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,s.ZP)(i.Z)({backgroundColor:"#535047",border:"1px solid rgba(235, 235, 237, 0.12)",padding:"4px"}),l=(0,s.ZP)(i.Z)((function(e){return{backgroundColor:e.theme.palette.background.header,padding:"2px",height:"36px",width:"100%"}}));function d(e){return(0,o.jsx)(l,c({},e))}function p(e){return(0,o.jsx)(u,c({},e))}},3765:function(e,t,n){n.d(t,{p:function(){return d}});var r=n(49501),s=n(75084),i=n(5152),o=n(26074),a=n(8656),c=n(57609),u=n(85893),l=(0,i.default)((function(){return Promise.resolve().then(n.bind(n,58294)).then((function(e){return e.WalletModal}))}),{loadableGenerated:{webpack:function(){return[58294]}}}),d=function(e){var t=e.funnel,n=(0,o.q)().setWalletModalOpen,i=(0,a.Yh)((function(e){return e.trackEvent}));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.Z,{variant:"surface",onClick:function(){i(c.Bp.CONNECT_WALLET,{funnel:t}),n(!0)},children:(0,u.jsx)(r.cC,{id:"Connect wallet"})}),(0,u.jsx)(l,{})]})}},38373:function(e,t,n){n.r(t),n.d(t,{SwitchModal:function(){return Le}});var r=n(59499),s=n(80854),i=n(1279),o=n(61953),a=n(90149),c=n(67294),u=n(52369),l=n(45257),d=n(8195),p=n(8656),f=n(32957),m=n(48351),x=n(31959);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=(0,m.c)().map((function(e){return h(h({},m.m5[e]),{},{chainId:e})})).filter((function(e){return Object.values(m.ei).find((function(t){var n;return t.chainId===e.chainId&&(null===(n=t.enabledFeatures)||void 0===n?void 0:n.switch)}))})),y=n(49501),v=n(67484),j=n(80562),O=n(81645),w=n(29630),S=n(96486),k=n(41024),P=n(92391),D=n(3765),Z=n(50029),C=n(87794),A=n.n(C),T=n(79643),I=n(36492),N=n(48228),E=n(2593),M=n(9279),F=n(31001),R=n(74119);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=n(66209),U=n(77537),V=n(57609),H=n(53601),z=n(20644),G=n(78944),_=n(10343),q=n(99730),Q=n(61782),Y=n(55343),K=n(92012),X=n(31538),$=n(25563),J=n(85893);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e){var t=e.networks,n=e.selectedNetwork,r=e.setSelectedNetwork;return(0,J.jsx)(Y.Z,{sx:{minWidth:"unset",width:"unset"},children:(0,J.jsx)(K.Z,{native:!1,value:String(n),onChange:function(e){r(Number(e.target.value))},IconComponent:function(e){return(0,J.jsx)(O.Z,te(te({sx:{fontSize:"14px"}},e),{},{children:(0,J.jsx)(Q.Z,{})}))},sx:{"&.MuiInputBase-root":{border:0,".MuiSelect-select":{display:"flex",backgroundColor:"transparent",border:0}},"& .MuiOutlinedInput-notchedOutline":{border:"none"}},children:t.map((function(e){return(0,J.jsx)(X.Z,{value:e.chainId,children:(0,J.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,J.jsx)($.gO,{size:16,logo:e.networkLogoPath,sx:{mr:1}}),(0,J.jsx)(w.Z,{variant:"subheader2",color:"#4D6EEE",children:e.displayName||e.name})]})},"".concat(e.name))}))})})},re=n(17674),se=n(24243),ie=n(75331),oe=n(56371),ae=n(70267),ce=n(89291),ue=n(32113),le=n(39771),de=n(64629),pe=n(67489),fe=n(94671);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=function(e){var t,n,r=e.inputAmount,i=e.inputToken,o=e.inputName,a=e.outputName,u=e.outputToken,l=e.slippage,f=e.blocked,x=e.loading,b=e.isWrongNetwork,h=e.chainId,g=e.route,v=(0,p.Yh)((function(e){return[e.account,e.generateApproval,e.estimateGasLimit,e.walletApprovalMethodPreference,e.generateSignatureRequest,e.addTransaction,e.currentMarketData]})),j=(0,re.Z)(v,7),O=j[0],w=j[1],S=j[2],k=j[3],P=j[4],D=j[5],C=j[6],T=(0,d.vR)(),I=T.approvalTxState,M=T.mainTxState,B=T.loadingTxns,W=T.setMainTxState,V=T.setTxError,H=T.setGasLimit,z=T.setLoadingTxns,G=T.setApprovalTxState,_=(0,U.Z)(),q=_.sendTx,Q=_.signTxData,Y=(0,m.Mo)(h),K=(0,c.useState)(),X=K[0],$=K[1],ee=(0,c.useState)(void 0),te=ee[0],ne=ee[1],me=function(e){var t=(0,R.rG)(e);return(0,N.D)({mutationFn:function(){var n=(0,Z.Z)(A().mark((function n(r){var s,i,o,a,c,u,l,d,p,f,m,x;return A().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=r.srcToken,i=r.srcDecimals,o=r.destToken,a=r.destDecimals,c=r.user,u=r.route,l=r.maxSlippage,d=r.permit,p=r.deadline,f=r.partner,m=(0,R.w_)(e),n.next=4,m.buildTx({srcToken:s,srcDecimals:i,srcAmount:u.srcAmount,destToken:o,destDecimals:a,userAddress:c,priceRoute:u,slippage:l,takeSurplus:!0,partner:f,partnerAddress:t,permit:d,deadline:p},{ignoreChecks:!0});case 4:return x=n.sent,n.abrupt("return",L(L({},x),{},{gasLimit:E.O$.from("500000"),gasPrice:void 0,value:E.O$.from(x.value)}));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})}(null!==(t=Y.underlyingChainId)&&void 0!==t?t:h),be=me.mutateAsync,he=null===(n=de.Q[h])||void 0===n?void 0:n[i],ge=k===ue.n.PERMIT&&he,ye=(0,c.useMemo)((function(){return void 0!==te&&-1!==te&&"0"!==r&&!b&&te<Number(r)}),[te,r,b]),ve=function(){var e=(0,Z.Z)(A().mark((function e(){var t,n,r,s,c,d;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=35;break}return e.prev=1,W(xe(xe({},M),{},{loading:!0})),e.next=5,be({srcToken:i,srcDecimals:g.srcDecimals,destDecimals:g.destDecimals,destToken:u,route:g,user:O,maxSlippage:1e4*Number(l),permit:X&&X.signature,deadline:X&&X.deadline,partner:"aave-widget"});case 5:return(t=e.sent).chainId=h,e.next=9,S(t,h);case 9:return n=e.sent,e.next=12,q(n);case 12:return r=e.sent,s={action:"switch",asset:g.srcToken,assetName:o,amount:(0,oe.formatUnits)(g.srcAmount,g.srcDecimals),amountUsd:g.srcUSD,outAsset:g.destToken,outAmount:(0,oe.formatUnits)(g.destAmount,g.destDecimals),outAmountUsd:g.destUSD,outAssetName:a},e.prev=14,e.next=17,r.wait(1);case 17:D(r.hash,xe({txState:"success"},s),{chainId:h}),W({txHash:r.hash,loading:!1,success:!0}),ae.queryClient.invalidateQueries({queryKey:F.B.poolTokens(O,C)}),e.next=28;break;case 22:e.prev=22,e.t0=e.catch(14),c=(0,le.WG)(e.t0,le.aD.MAIN_ACTION,!1),V(c),W({txHash:r.hash,loading:!1}),D(r.hash,xe({txState:"failed"},s),{chainId:h});case 28:e.next=35;break;case 30:e.prev=30,e.t1=e.catch(1),d=(0,le.WG)(e.t1,le.aD.GAS_ESTIMATION,!1),V(d),W({txHash:void 0,loading:!1});case 35:case"end":return e.stop()}}),e,null,[[1,30],[14,22]])})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=(0,Z.Z)(A().mark((function e(){var t,n,s,o,a,c,u,l,d,p,f;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=39;break}if(t=(0,R.sm)(r,g.srcDecimals,0),n={spender:g.tokenTransferProxy,user:O,token:i,amount:t},e.prev=3,!ge){e.next=19;break}return s=Math.floor(Date.now()/1e3+3600).toString(),e.next=8,P(xe(xe({},n),{},{deadline:s}),{chainId:h});case 8:return o=e.sent,G(xe(xe({},I),{},{loading:!0})),e.next=12,Q(o);case 12:a=e.sent,c=(0,oe.splitSignature)(a),u=oe.defaultAbiCoder.encode(["address","address","uint256","uint256","uint8","bytes32","bytes32"],[n.user,n.spender,n.amount,s,c.v,c.r,c.s]),$({signature:u,deadline:s,amount:n.amount,approvedToken:n.spender}),G({txHash:ce.Z,loading:!1,success:!0}),e.next=32;break;case 19:return l=w(n,{chainId:h}),e.next=22,S(l);case 22:return d=e.sent,G(xe(xe({},I),{},{loading:!0})),e.next=26,q(d);case 26:return p=e.sent,e.next=29,p.wait(1);case 29:G({txHash:p.hash,loading:!1,success:!0}),V(void 0),Oe();case 32:e.next=39;break;case 34:e.prev=34,e.t0=e.catch(3),f=(0,le.WG)(e.t0,le.aD.GAS_ESTIMATION,!1),V(f),G({txHash:void 0,loading:!1});case 39:case"end":return e.stop()}}),e,null,[[3,34]])})));return function(){return e.apply(this,arguments)}}(),Oe=(0,c.useCallback)((0,Z.Z)(A().mark((function e(){var t,n,r;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===g||void 0===g||!g.tokenTransferProxy){e.next=11;break}return $(void 0),G({txHash:void 0,loading:!1,success:!1}),z(!0),t=(0,m.VH)(h),n=new se.A(t),e.next=8,n.approvedAmount({user:O,token:i,spender:g.tokenTransferProxy});case 8:r=e.sent,ne(r),z(!1);case 11:case"end":return e.stop()}}),e)}))),[h,z,O,i,null===g||void 0===g?void 0:g.tokenTransferProxy,G]);return(0,c.useEffect)((function(){O&&Oe()}),[Oe,O]),(0,c.useEffect)((function(){var e=0;e=Number(s.eB[ie.UQ.withdrawAndSwitch].recommended),ye&&!I.success&&(e+=Number(fe.pQ)),H(e.toString())}),[ye,I,H]),(0,J.jsx)(pe.B,{mainTxState:M,approvalTxState:I,isWrongNetwork:b,preparingTransactions:B,handleAction:ve,requiresAmount:!0,amount:r,handleApproval:function(){return je()},requiresApproval:!f&&ye,actionText:(0,J.jsx)(y.cC,{id:"Switch"}),actionInProgressText:(0,J.jsx)(y.cC,{id:"Switching"}),errorParams:{loading:!1,disabled:f||!I.success&&ye,content:(0,J.jsx)(y.cC,{id:"Switch"}),handleClick:ve},fetchingData:x,blocked:f,tryPermit:he})},he=n(69331),ge=function(e){var t=e.error;return(0,J.jsx)(he.v,{severity:"error",icon:!1,sx:{mt:4},children:(0,J.jsx)(w.Z,{variant:"caption",children:t instanceof Error?(0,R.aE)(t.message):"There was an issue fetching data from Paraswap"})})},ye=function(e){var t=e.ratesError,n=e.balance,r=e.inputAmount;return t?(0,J.jsx)(ge,{error:t}):Number(r)>Number(n)?(0,J.jsx)(he.v,{severity:"error",sx:{mt:4},icon:!1,children:(0,J.jsx)(w.Z,{variant:"caption",children:(0,J.jsx)(y.cC,{id:"Your balance is lower than the selected amount."})})}):null},ve=n(58364),je=n(83187),Oe=n(41528),we=function(e){var t=e.rates,n=e.srcSymbol,r=e.destSymbol,s=(0,c.useState)(!1),a=s[0],u=s[1],l=(0,c.useMemo)((function(){var e=(0,i.pV)(t.srcAmount,t.srcDecimals),n=(0,i.pV)(t.destAmount,t.destDecimals);return a?e.div(n):n.div(e)}),[a,t.srcAmount,t.destAmount]),d=(0,c.useMemo)((function(){var e=(0,i.hE)(t.srcUSD);return(0,i.hE)(t.destUSD).minus(e).div(e)}),[t.srcUSD,t.destUSD]);return(0,J.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mt:6},children:[(0,J.jsx)(k.B,{visibleDecimals:0,variant:"main12",symbol:a?r:n,symbolsVariant:"secondary12",symbolsColor:"text.secondary",value:"1"}),(0,J.jsx)(je.Z,{onClick:function(){return u((function(e){return!e}))},disableTouchRipple:!0,sx:{mx:1},children:(0,J.jsx)(O.Z,{sx:{fontSize:"12px"},children:(0,J.jsx)(ve.Z,{})})}),(0,J.jsx)(k.B,{variant:"main12",symbol:a?n:r,symbolsVariant:"secondary12",symbolsColor:"text.secondary",value:l.toString(),visibleDecimals:3}),(0,J.jsx)(Oe.y,{title:(0,J.jsx)(w.Z,{variant:"caption",children:(0,J.jsx)(y.cC,{id:"Price impact"})}),children:(0,J.jsxs)(o.Z,{sx:{display:"flex",cursor:"pointer"},children:[(0,J.jsx)(w.Z,{variant:"caption",children:"("}),(0,J.jsx)(k.B,{variant:"caption",value:d.toString(),percent:!0}),(0,J.jsx)(w.Z,{variant:"caption",children:")"})]})})]})},Se=n(22659),ke=n(73812),Pe=n(85390),De=n(87054),Ze=n(75084),Ce=["0.001","0.005","0.01"],Ae=function(e){var t=e.slippage,n=e.setSlippage,r=(0,c.useState)(),s=r[0],i=r[1],a=Boolean(s);return(0,J.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,J.jsxs)(w.Z,{variant:"caption",color:"text.secondary",children:[(0,J.jsx)(y.cC,{id:"Slippage"}),(0,J.jsxs)(ke.Z,{anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},anchorEl:s,id:"switch-slippage-selector",MenuListProps:{"aria-labelledby":"switch-slippage-selector-button",sx:{py:3,px:4}},open:a,onClose:function(){i(null)},children:[(0,J.jsx)(w.Z,{variant:"subheader2",mb:5,children:(0,J.jsx)(y.cC,{id:"Max slippage"})}),(0,J.jsx)(o.Z,{sx:{display:"flex",alignItems:"center"},children:(0,J.jsx)(Pe.Z,{sx:{backgroundColor:"background.surface",borderRadius:"6px",p:"2px"},exclusive:!0,onChange:function(e,t){return n(t)},children:Ce.map((function(e){return(0,J.jsx)(De.Z,{sx:{borderRadius:1,py:1,px:2,borderColor:"transparent",backgroundColor:e===t?"background.paper":"transparent"},value:e,children:(0,J.jsx)(k.B,{value:e,percent:!0,variant:"subheader2",color:"primary.main",symbolsColor:"primary.main"})},e)}))})})]})]}),(0,J.jsx)(k.B,{variant:"caption",color:"text.primary",value:t,visibleDecimals:2,percent:!0}),(0,J.jsx)(Ze.Z,{id:"switch-slippage-selector-button",sx:{padding:0,minWidth:0},onClick:function(e){i(e.currentTarget)},"aria-controls":"switch-slippage-selector",children:(0,J.jsx)(O.Z,{sx:{fontSize:"16px"},children:(0,J.jsx)(Se.Z,{})})})]})},Te=n(71335),Ie=n(72667),Ne=n(55200),Ee=function(e){var t=e.txHash,n=e.amount,r=e.symbol,s=e.iconSymbol,i=e.outAmount,a=e.outSymbol,c=e.outIconSymbol;return(0,J.jsx)(Ne.R,{txHash:t,children:(0,J.jsxs)(o.Z,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[(0,J.jsx)(w.Z,{children:(0,J.jsx)(y.cC,{id:"You've successfully switched tokens."})}),(0,J.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:2,mt:3},children:[(0,J.jsx)(Ie.T1,{sx:{fontSize:"20px"},symbol:s}),(0,J.jsx)(k.B,{value:Number(n),compact:!0,variant:"main14"}),(0,J.jsx)(w.Z,{variant:"secondary14",children:r}),(0,J.jsx)(O.Z,{sx:{fontSize:"14px"},children:(0,J.jsx)(Te.Z,{fontSize:"14px"})}),(0,J.jsx)(Ie.T1,{sx:{fontSize:"20px"},symbol:c}),(0,J.jsx)(k.B,{value:Number(i),variant:"main14"}),(0,J.jsx)(w.Z,{variant:"secondary14",children:a})]})]})})},Me=function(e){var t,n=e.supportedNetworks,r=e.selectedChainId,s=e.setSelectedChainId,u=e.reserves,l=e.selectedNetworkConfig,f=e.defaultAsset,x=(0,c.useState)("0.001"),b=x[0],h=x[1],g=(0,c.useState)(""),Z=g[0],C=g[1],A=(0,c.useState)(""),N=A[0],E=A[1],B=(0,d.vR)(),Q=B.mainTxState,Y=B.gasLimit,K=B.txError,X=B.setTxError,$=(0,p.Yh)((function(e){return e.account})),ee=(0,c.useState)((function(){var e=u.find((function(e){return e.underlyingAsset===f}));return e||("GHO"===u[0].symbol?u[1]:u[0])})),te=ee[0],re=ee[1],se=(0,U.Z)().readOnlyModeAddress,ie=(0,c.useState)((function(){var e=u.find((function(e){return"GHO"===e.symbol}));return e||(u.find((function(e){return e.underlyingAsset!==f&&e.underlyingAsset!==u[0].underlyingAsset}))||u[1])})),oe=ie[0],ae=ie[1],ce=(0,W.Q)(r),ue=(0,c.useMemo)((function(){return(0,S.debounce)((function(e){E(e)}),300)}),[E]),le=function(e){var t=e.chainId,n=e.amount,r=e.srcToken,s=e.srcDecimals,i=e.destToken,o=e.destDecimals,a=e.user,c=e.options,u=void 0===c?{}:c;return(0,I.a)({queryFn:function(){return(0,R.w_)(t).getRate({amount:n,srcToken:r,srcDecimals:s,destToken:i,destDecimals:o,userAddress:a||M.d,side:T.PC.SELL,options:L(L({},u),{},{excludeDEXS:["ParaSwapPool","ParaSwapLimitOrders"]})})},queryKey:F.B.paraswapRates(t,n,r,i,a),enabled:"0"!==n,retry:0,refetchOnWindowFocus:function(e){return!e.state.error}})}({chainId:null!==(t=l.underlyingChainId)&&void 0!==t?t:r,amount:""===N?"0":(0,i.pV)(N,-1*te.decimals).toFixed(0),srcToken:te.underlyingAsset,srcDecimals:te.decimals,destToken:oe.underlyingAsset,destDecimals:oe.decimals,user:$,options:{partner:"aave-widget"}}),de=le.data,pe=le.error,fe=le.isFetching;if(de&&Q.success)return(0,J.jsx)(Ee,{txHash:Q.txHash,amount:N,symbol:te.symbol,iconSymbol:te.iconSymbol,outSymbol:oe.symbol,outIconSymbol:oe.iconSymbol,outAmount:(Number((0,i.Fv)(de.destAmount,de.destDecimals))*(1-Number(b))).toString()});return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(G.E,{title:"Switch tokens"}),ce.isWrongNetwork&&!se&&(0,J.jsx)(_.I,{networkName:(0,m.Mo)(r).name,chainId:r,event:{eventName:V.vh.SWITCH_NETWORK}}),(0,J.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,J.jsx)(ne,{networks:n,selectedNetwork:r,setSelectedNetwork:function(e){X(void 0),s(e)}}),(0,J.jsx)(Ae,{slippage:b,setSlippage:h})]}),te&&oe?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)(o.Z,{sx:{display:"flex",gap:"15px",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[(0,J.jsx)(H.W,{assets:u.filter((function(e){return e.underlyingAsset!==oe.underlyingAsset})),value:Z,onChange:function(e){X(void 0),"-1"===e?(C(te.balance),ue(te.balance)):(C(e),ue(e))},usdValue:(null===de||void 0===de?void 0:de.srcUSD)||"0",symbol:null===te||void 0===te?void 0:te.symbol,onSelect:function(e){X(void 0),re(e)},inputTitle:" ",sx:{width:"100%"}}),(0,J.jsx)(j.Z,{onClick:function(){var e=te,t=oe,n=de?(0,i.pV)(de.destAmount,de.destDecimals).toString():"0";re(t),ae(e),C(n),E(n),X(void 0)},sx:{border:"1px solid",borderColor:"divider",position:"absolute",backgroundColor:"background.paper"},children:(0,J.jsx)(O.Z,{sx:{color:"primary.main",fontSize:"18px"},children:(0,J.jsx)(v.Z,{})})}),(0,J.jsx)(H.W,{assets:u.filter((function(e){return e.underlyingAsset!==te.underlyingAsset})),value:de?(0,i.pV)(de.destAmount,de.destDecimals).toString():"0",usdValue:(null===de||void 0===de?void 0:de.destUSD)||"0",symbol:null===oe||void 0===oe?void 0:oe.symbol,loading:"0"!==N&&""!==N&&fe&&!pe,onSelect:function(e){X(void 0),ae(e)},disableInput:!0,inputTitle:" ",sx:{width:"100%"}})]}),de&&(0,J.jsx)(J.Fragment,{children:(0,J.jsx)(we,{rates:de,srcSymbol:te.symbol,destSymbol:oe.symbol})}),de&&$&&(0,J.jsxs)(z.m6,{gasLimit:Y,chainId:r,children:[(0,J.jsx)(P.X,{caption:(0,J.jsx)(y.cC,{id:"Minimum {0} received",values:{0:oe.symbol}}),captionVariant:"caption",children:(0,J.jsx)(k.B,{compact:!1,roundDown:!0,variant:"caption",value:Number((0,i.Fv)(de.destAmount,de.destDecimals))*(1-Number(b))})}),(0,J.jsx)(P.X,{sx:{mt:1},caption:(0,J.jsx)(y.cC,{id:"Minimum USD value received"}),captionVariant:"caption",children:(0,J.jsx)(k.B,{symbol:"usd",symbolsVariant:"caption",variant:"caption",value:Number(de.destUSD)*(1-Number(b))})})]}),$?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(ye,{ratesError:pe,balance:te.balance,inputAmount:N}),K&&(0,J.jsx)(q.f,{txError:K}),(0,J.jsx)(be,{isWrongNetwork:ce.isWrongNetwork,inputAmount:N,inputToken:te.underlyingAsset,outputToken:oe.underlyingAsset,inputName:te.name,outputName:oe.name,slippage:b,blocked:!de||Number(N)>Number(te.balance)||!$,chainId:r,route:de})]}):(0,J.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",mt:4,alignItems:"center"},children:[(0,J.jsx)(w.Z,{sx:{mb:6,textAlign:"center"},color:"text.secondary",children:(0,J.jsx)(y.cC,{id:"Please connect your wallet to be able to switch your tokens."})}),(0,J.jsx)(D.p,{})]})]}):(0,J.jsx)(a.Z,{})]})};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Be=m.ei[m.el.proto_base_v3],Le=function(){var e=(0,d.vR)(),t=e.type,n=e.close,r=e.args.underlyingAsset,b=(0,p.Yh)((function(e){return e.currentChainId})),h=(0,p.Yh)((function(e){return e.account})),y=(0,c.useState)((function(){return g.find((function(e){return e.chainId===b}))?b:Be.chainId})),v=y[0],j=y[1],O=(0,m.Mo)(v);(0,c.useEffect)((function(){g.find((function(e){return e.chainId===b}))?j(b):j(Be.chainId)}),[b]);var w=(0,c.useMemo)((function(){return Object.values(m.ei).filter((function(e){var t;return e.chainId===v&&(null===(t=e.enabledFeatures)||void 0===t?void 0:t.switch)}))}),[v]),S=(0,u.T)(w,{refetchInterval:0}).reduce((function(e,t){if(t.data){var n=t.data.reservesData.find((function(e){return e.symbol===O.wrappedBaseAssetSymbol})),r=e.concat(t.data.reservesData.filter((function(t){return!e.find((function(e){return e.underlyingAsset===t.underlyingAsset}))})));return n&&!e.find((function(e){return e.underlyingAsset===s.hP}))?r.concat(Re(Re({},n),{},{underlyingAsset:s.hP,decimals:O.baseAssetDecimals},(0,f.QD)({underlyingAsset:s.hP,symbol:O.baseAssetSymbol}))):r}return e}),[]),k=(0,l._)(w,h,{refetchInterval:0}).reduce((function(e,t){return t.data?e.concat(t.data):e}),[]),P=(0,c.useMemo)((function(){return S.map((function(e){var t;return Re(Re(Re({},e),(0,f.QD)({underlyingAsset:e.underlyingAsset,symbol:e.symbol,name:e.name})),{},{balance:(0,i.Fv)((null===(t=k.find((function(t){return t.address.toLocaleLowerCase()===e.underlyingAsset.toLocaleLowerCase()})))||void 0===t?void 0:t.amount.toString())||"0",e.decimals)})}))}),[S,k]).sort((function(e,t){return Number(t.balance)-Number(e.balance)}));return(0,J.jsx)(x.P,{open:t===d.w8.Switch,setOpen:n,children:P.length>1?(0,J.jsx)(Me,{selectedChainId:v,setSelectedChainId:j,supportedNetworks:g,reserves:P,selectedNetworkConfig:O,defaultAsset:r},v):(0,J.jsx)(o.Z,{sx:{width:"100%",display:"flex",justifyContent:"center",my:"60px"},children:(0,J.jsx)(a.Z,{})})})}},99730:function(e,t,n){n.d(t,{f:function(){return u}});var r=n(49501),s=n(61953),i=n(29630),o=n(69331),a=n(67916),c=n(85893),u=function(e){var t=e.txError;return(0,c.jsxs)(s.Z,{children:[(0,c.jsx)(a.Q,{txError:t}),"MetaMask Message Signature: User denied message signature."!==t.rawError.message&&"MetaMask Tx Signature: User denied transaction signature."!==t.rawError.message&&(0,c.jsx)(s.Z,{sx:{pt:4},children:(0,c.jsx)(o.v,{severity:"info",children:(0,c.jsxs)(i.Z,{variant:"description",children:[" ",(0,c.jsx)(r.cC,{id:"Tip: Try increasing slippage or reduce input amount"})]})})})]})}}}]);