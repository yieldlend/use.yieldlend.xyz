"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8345],{58345:function(e,t,r){r.r(t),r.d(t,{StakeRewardClaimRestakeModal:function(){return F}});var n=r(67294),o=r(8195),a=r(31959),s=r(49501),i=r(1279),c=r(29630),u=r(54401),l=r(77912),d=r(60265),m=r(77537),v=r(8656),k=r(84568),p=r(25298),x=r(53601),b=r(63491),f=r(67916),j=r(93608),N=r(57824),h=r(78944),g=r(10343),y=r(59499),O=r(50029),w=r(4730),T=r(87794),A=r.n(T),C=r(75331),E=r(89291),R=r(67489),S=r(85893),P=["amountToClaim","isWrongNetwork","sx","symbol","blocked","selectedToken"];function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var _,D=function(e){var t=e.amountToClaim,r=e.isWrongNetwork,n=e.sx,o=e.symbol,a=e.blocked,i=e.selectedToken,c=(0,w.Z)(e,P),u=(0,v.Yh)((function(e){return e.claimRewardsAndStake})),l=(0,E.Q)({tryPermit:!1,handleGetTxns:function(){var e=(0,O.Z)(A().mark((function e(){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u({token:i,amount:t}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),protocolAction:C.UQ.claimRewardsAndStake,eventTxInfo:{amount:t,assetName:i},skip:!t||0===parseFloat(t)||a,deps:[t]}),d=l.action,m=l.loadingTxns,k=l.mainTxState,p=l.requiresApproval;return(0,S.jsx)(R.B,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,y.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({requiresApproval:p,blocked:a,preparingTransactions:m,handleAction:d,actionText:(0,S.jsx)(s.cC,{id:"Restake {symbol}",values:{symbol:o}}),actionInProgressText:(0,S.jsx)(s.cC,{id:"Restaking {symbol}",values:{symbol:o}}),mainTxState:k,isWrongNetwork:r,sx:n},c))};!function(e){e[e.NOT_ENOUGH_BALANCE=0]="NOT_ENOUGH_BALANCE"}(_||(_={}));var L=function(e){var t=e.stakeAssetName,r=e.icon,a=(0,m.Z)(),y=a.chainId,O=a.readOnlyModeAddress,w=(0,o.vR)(),T=w.gasLimit,A=w.mainTxState,C=w.txError,E=(0,v.Yh)((function(e){return e.currentMarketData})),R=(0,v.Yh)((function(e){return e.currentNetworkConfig})),P=(0,v.Yh)((function(e){return e.currentChainId})),I=(0,d.f)(E).data,L=(0,l.I)(E).data,F=null===L||void 0===L?void 0:L[t],U="YIELD",Y=(0,n.useState)(""),B=Y[0],G=Y[1],M=(0,n.useRef)(),W=(0,i.Fv)((null===I||void 0===I?void 0:I[t].userIncentivesToClaim)||"0",18),Z="-1"===B,H=Z?W:B,Q=Number(W)*(Number((0,i.Fv)((null===F||void 0===F?void 0:F.stakeTokenPriceEth)||1,18))*Number((0,i.Fv)((null===L||void 0===L?void 0:L.ethPriceUsd)||1,8))),q=void 0;"0"===W&&(q=_.NOT_ENOUGH_BALANCE);var V=R.isFork&&R.underlyingChainId===k.X.chainId?P:k.X.chainId,X=y!==V,$=(0,p.Mo)(V);return C&&C.blocking?(0,S.jsx)(b.D,{txError:C}):A.success?(0,S.jsx)(j.R,{action:(0,S.jsx)(s.cC,{id:"Restaked"}),amount:M.current,symbol:U}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(h.E,{title:"Restake YIELD rewards"}),X&&!O&&(0,S.jsx)(g.I,{networkName:$.name,chainId:V}),(0,S.jsx)(u.$,{}),(0,S.jsx)(x.W,{value:H,onChange:function(e){var t="-1"===e;M.current=t?W:e,G(e)},usdValue:Q.toString(),symbol:r,assets:[{balance:W.toString(),symbol:r}],isMaxSelected:Z,maxValue:W.toString(),balanceText:(0,S.jsx)(s.cC,{id:"Amount claimable"})}),void 0!==q&&(0,S.jsx)(c.Z,{variant:"helperText",color:"red",children:q===_.NOT_ENOUGH_BALANCE?(0,S.jsx)(s.cC,{id:"No rewards to claim"}):null}),(0,S.jsx)(N.m6,{gasLimit:T,children:(0,S.jsx)(N.oD,{description:(0,S.jsx)(s.cC,{id:"Staking APR"}),value:Number((null===F||void 0===F?void 0:F.stakeApy)||"0")/1e4,percent:!0})}),C&&(0,S.jsx)(f.Q,{txError:C}),(0,S.jsx)(D,{sx:{mt:"48px"},amountToClaim:H,isWrongNetwork:X,symbol:U,blocked:void 0!==q||0===Number(H),selectedToken:t})]})},F=function(){var e=(0,o.vR)(),t=e.type,r=e.close,n=e.args;return(0,S.jsx)(a.P,{open:t===o.w8.StakeRewardsClaimRestake,setOpen:r,children:(null===n||void 0===n?void 0:n.icon)&&(null===n||void 0===n?void 0:n.stakeAssetName)&&(0,S.jsx)(L,{stakeAssetName:n.stakeAssetName,icon:n.icon})})}}}]);