"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[543],{29002:function(e,t,r){r.d(t,{o:function(){return d}});var n=r(59499),i=r(4730),a=r(81645),o=r(85893),s=["sx"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){var t=e.sx,r=(0,i.Z)(e,s);return(0,o.jsxs)(a.Z,l(l({sx:l({fill:"none",stroke:"#A5A8B6"},t),viewBox:"0 0 21 19",xmlns:"http://www.w3.org/2000/svg","aria-label":"Wallet"},r),{},{children:[(0,o.jsxs)("g",{clipPath:"url(#clip0_3719_3323)",strokeWidth:"2",children:[(0,o.jsx)("path",{d:"M17.3203 17.398H3.32031C2.78988 17.398 2.28117 17.1872 1.9061 16.8122C1.53103 16.4371 1.32031 15.9284 1.32031 15.3979V6.39795C1.32031 5.86752 1.53103 5.35881 1.9061 4.98374C2.28117 4.60866 2.78988 4.39795 3.32031 4.39795H17.3203C17.8507 4.39795 18.3595 4.60866 18.7345 4.98374C19.1096 5.35881 19.3203 5.86752 19.3203 6.39795V15.3979C19.3203 15.9284 19.1096 16.4371 18.7345 16.8122C18.3595 17.1872 17.8507 17.398 17.3203 17.398Z"}),(0,o.jsx)("path",{d:"M14.8203 11.3979C14.6877 11.3979 14.5605 11.3453 14.4668 11.2515C14.373 11.1577 14.3203 11.0306 14.3203 10.8979C14.3203 10.7653 14.373 10.6382 14.4668 10.5444C14.5605 10.4506 14.6877 10.3979 14.8203 10.3979C14.9529 10.3979 15.0801 10.4506 15.1739 10.5444C15.2676 10.6382 15.3203 10.7653 15.3203 10.8979C15.3203 11.0306 15.2676 11.1577 15.1739 11.2515C15.0801 11.3453 14.9529 11.3979 14.8203 11.3979Z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M16.3203 4.39793V2.99993C16.3202 2.69343 16.2497 2.39106 16.1142 2.11615C15.9787 1.84124 15.7818 1.60116 15.5387 1.41444C15.2956 1.22773 15.0129 1.09937 14.7124 1.03929C14.4118 0.979209 14.1015 0.989009 13.8053 1.06793L2.80531 4.00093C2.37937 4.11444 2.00285 4.36549 1.7343 4.71506C1.46575 5.06462 1.32021 5.49312 1.32031 5.93393V6.39793"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_3719_3323",children:(0,o.jsx)("rect",{width:"20",height:"19",fill:"white",transform:"translate(0.320312)"})})})]}))}},55200:function(e,t,r){r.d(t,{R:function(){return f}});var n=r(49501),i=r(56365),a=r(58057),o=r(81645),s=r(30120),c=r(29630),l=r(68346),d=r(75084),u=r(8195),x=r(46930),p=r(85893),h=function(){return(0,p.jsx)(o.Z,{sx:{ml:"2px",fontSize:"11px"},children:(0,p.jsx)(i.Z,{})})},f=function(e){var t=e.txHash,r=e.children,i=(0,u.vR)(),f=i.close,v=i.mainTxState,j=(0,x.f)().currentNetworkConfig;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,p.jsx)(s.Z,{sx:{width:"48px",height:"48px",bgcolor:"success.200",borderRadius:"50%",mt:14,mx:"auto",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,p.jsx)(o.Z,{sx:{color:"success.main",fontSize:"32px"},children:(0,p.jsx)(a.Z,{})})}),(0,p.jsx)(c.Z,{sx:{mt:4},variant:"h2",children:(0,p.jsx)(n.cC,{id:"All done!"})}),r]}),(0,p.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,p.jsxs)(l.Z,{variant:"helperText",href:j.explorerLinkBuilder({tx:t||v.txHash}),sx:{display:"inline-flex",alignItems:"center",justifyContent:"right",mt:6,mb:3},underline:"hover",target:"_blank",rel:"noreferrer noopener",children:[(0,p.jsx)(n.cC,{id:"Review tx details"}),(0,p.jsx)(h,{})]}),(0,p.jsx)(d.Z,{onClick:f,variant:"contained",size:"large",sx:{minHeight:"44px"},"data-cy":"closeButton",children:(0,p.jsx)(n.cC,{id:"Ok, Close"})})]})]})}},63491:function(e,t,r){r.d(t,{D:function(){return p}});var n=r(49501),i=r(5506),a=r(52758),o=r(30120),s=r(81645),c=r(29630),l=r(68346),d=r(75084),u=r(8195),x=r(85893),p=function(e){var t=e.txError,r=(0,u.vR)().close;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",mb:"92px"},children:[(0,x.jsx)(o.Z,{sx:{width:"48px",height:"48px",backgroundColor:"error.200",borderRadius:"50%",mt:14,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,x.jsx)(s.Z,{sx:{color:"error.main",fontSize:"32px"},children:(0,x.jsx)(i.Z,{})})}),(0,x.jsx)(c.Z,{sx:{mt:2},variant:"h2",children:(0,x.jsx)(n.cC,{id:"Transaction failed"})}),(0,x.jsx)(c.Z,{children:(0,x.jsx)(n.cC,{id:"You can report incident to our <0>Discord</0>.",components:{0:(0,x.jsx)(l.Z,{href:"https://discord.yieldlend.xyz"})}})}),(0,x.jsxs)(d.Z,{variant:"outlined",onClick:function(){return navigator.clipboard.writeText(t.rawError.message.toString())},size:"small",sx:{mt:6},children:[(0,x.jsx)(n.cC,{id:"Copy error text"}),(0,x.jsx)(s.Z,{sx:{ml:.5,fontSize:"12px"},children:(0,x.jsx)(a.Z,{})})]})]}),(0,x.jsx)(o.Z,{sx:{display:"flex",flexDirection:"column",mt:12},children:(0,x.jsx)(d.Z,{onClick:r,variant:"contained",size:"large",sx:{minHeight:"44px"},children:(0,x.jsx)(n.cC,{id:"Close"})})})]})}},67916:function(e,t,r){r.d(t,{Q:function(){return c}});var n=r(49501),i=r(29630),a=r(75084),o=r(69331),s=r(85893),c=function(e){var t=e.txError;return(0,s.jsx)(o.v,{severity:"error",sx:{mt:4,mb:0},children:(0,s.jsx)(i.Z,{variant:"description",children:t.error?(0,s.jsxs)(s.Fragment,{children:[t.error," ",(0,s.jsx)(a.Z,{sx:{verticalAlign:"top"},variant:"text",onClick:function(){return navigator.clipboard.writeText(t.rawError.message.toString())},children:(0,s.jsx)(i.Z,{variant:"description",children:(0,s.jsx)(n.cC,{id:"copy the error"})})})]}):(0,s.jsx)(n.cC,{id:"There was some error. Please try changing the parameters or <0><1>copy the error</1></0>",components:{0:(0,s.jsx)(a.Z,{sx:{verticalAlign:"top"},onClick:function(){return navigator.clipboard.writeText(t.rawError.message.toString())}}),1:(0,s.jsx)(i.Z,{variant:"description"})}})})})}},93608:function(e,t,r){r.d(t,{R:function(){return v}});var n=r(49501),i=r(75331),a=r(62097),o=r(30120),s=r(29630),c=r(75084),l=r(67294),d=r(29002),u=r(41024),x=r(72667),p=r(77537),h=r(55200),f=r(85893),v=function(e){var t=e.txHash,r=e.action,v=e.amount,j=e.symbol,m=e.collateral,b=e.rate,g=e.addToken,y=e.customAction,C=e.customText,O=(0,p.Z)().addERC20Token,w=(0,l.useState)(""),A=w[0],P=w[1],T=(0,a.Z)();return(0,f.jsx)(h.R,{txHash:t,children:(0,f.jsxs)(o.Z,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[r&&v&&j&&(0,f.jsx)(s.Z,{children:(0,f.jsx)(n.cC,{id:"You {action} <0/> {symbol}",values:{action:r,symbol:j},components:{0:(0,f.jsx)(u.B,{value:Number(v),compact:!0,variant:"secondary14"})}})}),y&&(0,f.jsxs)(s.Z,{children:[C,y]}),!r&&!v&&j&&(0,f.jsxs)(s.Z,{children:["Your ",j," ",m?"now":"is not"," used as collateral"]}),b&&(0,f.jsx)(s.Z,{children:(0,f.jsx)(n.cC,{id:"You switched to {0} rate",values:{0:b===i.tk.Variable?"variable":"stable"}})}),g&&j&&(0,f.jsxs)(o.Z,{sx:function(e){return{border:"dark"===e.palette.mode?"1px solid ".concat(e.palette.divider):"none",background:"dark"===e.palette.mode?"none":"#F7F7F9",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",mt:"24px"}},children:[(0,f.jsx)(x.T1,{symbol:g.symbol,aToken:!(!g||!g.aToken),sx:{fontSize:"32px",mt:"12px",mb:"8px"}}),(0,f.jsx)(s.Z,{variant:"description",color:"text.primary",sx:{mx:"24px"},children:(0,f.jsx)(n.cC,{id:"Add {0} to wallet to track your balance.",values:{0:g&&g.aToken?"aToken ":"token "}})}),(0,f.jsxs)(c.Z,{onClick:function(){O({address:g.address,decimals:g.decimals,symbol:g.aToken?"y".concat(g.symbol):g.symbol,image:/_/.test(g.symbol)?void 0:A})},variant:"dark"===T.palette.mode?"outlined":"contained",size:"medium",sx:{mt:"8px",mb:"12px"},children:[g.symbol&&!/_/.test(g.symbol)&&(0,f.jsx)(x.Js,{symbol:g.symbol,onImageGenerated:P,aToken:g.aToken}),(0,f.jsx)(d.o,{sx:{width:"20px",height:"20px"}}),(0,f.jsx)(s.Z,{variant:"buttonM",color:"white",ml:"4px",children:(0,f.jsx)(n.cC,{id:"Add to wallet"})})]})]})]})})}},20644:function(e,t,r){r.d(t,{JV:function(){return ee},Bx:function(){return $},jz:function(){return re},aE:function(){return te},oD:function(){return K},XJ:function(){return J},Pu:function(){return ne},m6:function(){return X}});var n=r(59499),i=r(4730),a=r(49501),o=r(80227),s=r(81645),c=r(30120),l=r(29630),d=r(91655),u=r(22841),x=r(54181),p=r(56371),h=r(67294),f=r(44749),v=r(92391),j=r(29946),m=r(96875),b=r(12349),g=r(41024),y=r(72667),C=r(80854),O=r(1279),w=r(62753),A=r(9144),P=r(90149),T=r(36864),Z=r(57609),k=r(58527),S=r(85893);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=function(e){var t=(0,T.Z)({},e);return(0,S.jsx)(k.G,E(E({event:{eventName:Z.vh.TOOL_TIP,eventParams:{tooltip:"Gas Calc"}}},t),{},{children:(0,S.jsx)(a.cC,{id:"This gas calculation is only an estimation. Your wallet will set the price of the transaction. You can modify the gas settings directly from your wallet provider."})}))},N=r(69331),R=r(82482),L=r(52369),_=r(83901);var M=r(8195),B=r(16376),G=r(25298),V=r(38776),U=r(87669),z=r(15591),F=function(e){var t=(0,B.Yh)((function(e){return e.jsonRpcProvider}));return(0,U.h)({queries:e.map((function(e){return{queryKey:z.B.gasPrices(e),queryFn:function(){return t(e).getFeeData().then((function(e){return function(e){var t,r,i,a,o={legacyGasPrice:(null===(t=e.gasPrice)||void 0===t?void 0:t.toString())||"0",maxFeePerGas:(null===(r=e.maxFeePerGas)||void 0===r?void 0:r.toString())||"0",maxPriorityFeePerGas:(null===(i=e.maxPriorityFeePerGas)||void 0===i?void 0:i.toString())||"0"};return a={},(0,n.Z)(a,_.TP.Slow,o),(0,n.Z)(a,_.TP.Normal,o),(0,n.Z)(a,_.TP.Fast,o),a}(e)}))},refetchInterval:3e4}}))})},H=function(e){var t,r=e.gasLimit,n=e.skipLoad,i=e.disabled,a=e.rightComponent,o=e.chainId,s=function(){var e=h.useContext(_.N4);if(void 0===e)throw new Error("useGasStation must be used within a GasStationProvider");return e}().state,l=(0,B.Yh)((function(e){return e.currentChainId})),d=null!==o&&void 0!==o?o:l,u=Object.values(G.ei).find((function(e){return e.chainId===d}));(0,V.Z)(u,"No market for this network");var x=(0,L.J)(u).data,f=function(e){return F([e])[0]}(d),v=f.data,j=null===(t=(0,R.P)(u).walletBalances[C.hP.toLowerCase()])||void 0===t?void 0:t.amountUSD,m=(0,G.Mo)(d),b=m.name,y=m.baseAssetSymbol,T=(0,M.vR)().loadingTxns,Z=v&&null!==x&&void 0!==x&&x.baseCurrencyData?function(e,t,r,n,i){var a=t===_.TP.Custom?(0,p.parseUnits)(r,"gwei").toString():n[t].legacyGasPrice;return Number((0,p.formatUnits)(e.mul(a),18))*parseFloat(i)}(r,s.gasOption,s.customGas,v,(0,O.Fv)(null===x||void 0===x?void 0:x.baseCurrencyData.networkBaseTokenPriceInUsd,null===x||void 0===x?void 0:x.baseCurrencyData.networkBaseTokenPriceDecimals)):void 0;return(0,S.jsxs)(A.Z,{gap:6,sx:{width:"100%"},children:[(0,S.jsxs)(c.Z,{sx:{display:"flex",mt:6,justifyContent:"space-between"},children:[(0,S.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,S.jsx)(w.Z,{color:"primary",sx:{fontSize:"16px",mr:1.5}}),T&&!n?(0,S.jsx)(P.Z,{color:"inherit",size:"16px",sx:{mr:2}}):Z&&!i?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(g.B,{value:Z,symbol:"USD",color:"text.secondary"}),(0,S.jsx)(D,{})]}):"-"]}),a]}),!i&&Number(j)<Number(Z)&&(0,S.jsx)(c.Z,{sx:{display:"flex",alignItems:"center"},children:(0,S.jsxs)(N.v,{severity:"warning",sx:{mb:0,mx:"auto"},children:["You do not have enough ",y," in your account to pay for transaction fees on"," ",b," network. Please deposit ",y," from another account."]})})]})},W=["description","value","futureValue","numberPrefix","iconSymbol","loading"];function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Q=(0,S.jsx)(s.Z,{color:"primary",sx:{fontSize:"14px",mx:1},children:(0,S.jsx)(o.Z,{})}),X=function(e){var t=e.gasLimit,r=e.slippageSelector,n=e.skipLoad,i=e.disabled,o=e.children,s=e.chainId;return(0,S.jsxs)(c.Z,{sx:{pt:5},children:[(0,S.jsx)(l.Z,{sx:{mb:1},color:"text.secondary",children:(0,S.jsx)(a.cC,{id:"Transaction overview"})}),(0,S.jsx)(c.Z,{sx:function(e){return{p:3,border:"1px solid ".concat(e.palette.divider),borderRadius:"4px",".MuiBox-root:last-of-type":{mb:0}}},children:o}),(0,S.jsx)(c.Z,{sx:{display:"flex",justifyContent:"space-between"},children:(0,S.jsx)(H,{chainId:s,gasLimit:(0,p.parseUnits)(t||"0","wei"),skipLoad:n,disabled:i,rightComponent:r})})]})},K=function(e){var t=e.description,r=e.value,n=e.futureValue,a=e.numberPrefix,o=e.iconSymbol,s=e.loading,u=void 0!==s&&s,x=(0,i.Z)(e,W);return(0,S.jsx)(v.X,{caption:t,captionVariant:"description",mb:4,children:(0,S.jsx)(c.Z,{sx:{display:"flex",alignItems:"center"},children:u?(0,S.jsx)(d.Z,{variant:"rectangular",height:20,width:100,sx:{borderRadius:"4px"}}):(0,S.jsxs)(S.Fragment,{children:[o&&(0,S.jsx)(y.T1,{symbol:o,sx:{mr:1,fontSize:"16px"}}),a&&(0,S.jsx)(l.Z,{sx:{mr:1},children:a}),(0,S.jsx)(g.B,Y({value:r,variant:"secondary14"},x)),n&&(0,S.jsxs)(S.Fragment,{children:[Q,(0,S.jsx)(g.B,Y({value:n,variant:"secondary14"},x))]})]})})})},J=function(e){var t=e.description,r=e.symbol,n=e.value,i=e.valueUSD,a=e.futureValue,o=e.futureValueUSD,s=e.hideSymbolSuffix,u=e.color,x=e.tokenIcon,p=e.loading,h=void 0!==p&&p;return(0,S.jsx)(v.X,{caption:t,captionVariant:"description",mb:4,align:"flex-start",children:(0,S.jsx)(c.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:h?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(d.Z,{variant:"rectangular",height:20,width:100,sx:{borderRadius:"4px"}}),(0,S.jsx)(d.Z,{variant:"rectangular",height:15,width:80,sx:{borderRadius:"4px",marginTop:"4px"}})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},children:[n&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(g.B,{value:n,variant:"secondary14",color:u}),!s&&(0,S.jsx)(l.Z,{ml:1,variant:"secondary14",children:r}),Q]}),x&&(0,S.jsx)(y.T1,{symbol:x,sx:{mr:1,fontSize:"14px"}}),(0,S.jsx)(g.B,{value:a,variant:"secondary14",color:u}),!s&&(0,S.jsx)(l.Z,{ml:1,variant:"secondary14",children:r})]}),(0,S.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},children:[i&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(g.B,{value:i,variant:"helperText",compact:!0,symbol:"USD"}),Q]}),(0,S.jsx)(g.B,{value:o,variant:"helperText",compact:!0,symbol:"USD"})]})]})})})},$=function(e){var t=e.collateralType;return(0,S.jsx)(v.X,{caption:(0,S.jsx)(a.cC,{id:"Collateralization"}),captionVariant:"description",mb:4,children:(0,S.jsx)(ee,{collateralType:t})})},ee=function(e){var t,r=e.collateralType;return(0,S.jsx)(c.Z,{sx:{display:"inline-flex",alignItems:"center"},children:(t={},(0,n.Z)(t,j.z.ENABLED,(0,S.jsx)(l.Z,{variant:"description",color:"success.main",children:(0,S.jsx)(a.cC,{id:"Enabled"})})),(0,n.Z)(t,j.z.ISOLATED_ENABLED,(0,S.jsx)(f.Ch,{typographyProps:{variant:"description",color:"warning.main"}})),(0,n.Z)(t,j.z.DISABLED,(0,S.jsx)(l.Z,{variant:"description",color:"error.main",children:(0,S.jsx)(a.cC,{id:"Disabled"})})),(0,n.Z)(t,j.z.UNAVAILABLE,(0,S.jsx)(l.Z,{variant:"description",color:"error.main",children:(0,S.jsx)(a.cC,{id:"Unavailable"})})),(0,n.Z)(t,j.z.ISOLATED_DISABLED,(0,S.jsx)(f.r$,{})),(0,n.Z)(t,j.z.UNAVAILABLE_DUE_TO_ISOLATION,(0,S.jsx)(f.a9,{})),t)[r]})},te=function(e){var t=e.incentives,r=e.symbol,n=e.futureIncentives,i=e.futureSymbol,o=e.loading,s=void 0!==o&&o;return t&&0!==t.filter((function(e){return"0"!==e.incentiveAPR})).length?(0,S.jsx)(v.X,{caption:(0,S.jsx)(a.cC,{id:"Rewards APR"}),captionVariant:"description",mb:4,minHeight:24,children:(0,S.jsx)(c.Z,{sx:{display:"flex",alignItems:"center"},children:s?(0,S.jsx)(d.Z,{variant:"rectangular",height:20,width:100,sx:{borderRadius:"4px"}}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(b.M,{incentives:t,symbol:r}),i&&(0,S.jsxs)(S.Fragment,{children:[Q,(0,S.jsx)(b.M,{incentives:n,symbol:i}),n&&0===n.length&&(0,S.jsx)(l.Z,{variant:"secondary14",children:(0,S.jsx)(a.cC,{id:"None"})})]})]})})}):null},re=function(e){var t=e.healthFactor,r=e.futureHealthFactor,n=e.visibleHfChange,i=e.loading,o=void 0!==i&&i;return"-1"===t&&"-1"===r?null:(0,S.jsx)(v.X,{caption:(0,S.jsx)(a.cC,{id:"Health factor"}),captionVariant:"description",mb:4,align:"flex-start",children:(0,S.jsxs)(c.Z,{sx:{textAlign:"right"},children:[(0,S.jsx)(c.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:o?(0,S.jsx)(d.Z,{variant:"rectangular",height:20,width:80,sx:{borderRadius:"4px"}}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(m.o,{value:t,variant:"secondary14"}),n&&(0,S.jsxs)(S.Fragment,{children:[Q,(0,S.jsx)(m.o,{value:isNaN(Number(r))?t:r,variant:"secondary14"})]})]})}),(0,S.jsxs)(l.Z,{variant:"helperText",color:"text.secondary",children:[(0,S.jsx)(a.cC,{id:"Liquidation at"})," <1.0"]})]})})},ne=function(e){var t=e.unwrapped,r=e.setUnWrapped,n=e.label;return(0,S.jsx)(v.X,{captionVariant:"description",sx:{mt:5},children:(0,S.jsx)(u.Z,{sx:{mx:0},control:(0,S.jsx)(x.Z,{disableRipple:!0,checked:t,onClick:function(){return r(!t)},"data-cy":"wrappedSwitcher"}),labelPlacement:"end",label:n})})}},67489:function(e,t,r){r.d(t,{B:function(){return U}});var n=r(59499),i=r(4730),a=r(49501),o=r(58057),s=r(81645),c=r(30120),l=r(75084),d=r(90149),u=r(29630),x=r(8195),p=r(77537),h=r(39771),f=r(36864),v=r(68861),j=r(58527),m=r(85893);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e){var t=(0,f.Z)({},e);return(0,m.jsx)(j.G,g(g({},t),{},{children:(0,m.jsx)(a.cC,{id:"To continue, you need to grant YieldLend smart contracts permission to move your funds from your wallet. Depending on the asset and wallet you use, it is done by signing the permission message (gas free), or by submitting an approval transaction (requires gas). <0>Learn more</0>",components:{0:(0,m.jsx)(v.rU,{href:"https://eips.ethereum.org/EIPS/eip-2612",underline:"always"})}})}))},C=r(56365),O=r(68346),w=r(17674),A=r(64343),P=r(22659),T=r(73812),Z=r(31538),k=r(61702),S=r(29894),I=r(67294),E=r(32113),D=function(e){var t=e.currentMethod,r=e.setMethod,n=I.useState(null),i=(0,w.Z)(n,2),o=i[0],l=i[1],d=Boolean(o),x=function(){l(null)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(c.Z,{onClick:function(e){l(e.currentTarget)},sx:{display:"flex",alignItems:"center",cursor:"pointer"},"data-cy":"approveButtonChange",children:[(0,m.jsx)(u.Z,{variant:"subheader2",color:"info.main",children:(0,m.jsx)(a.cC,{id:"{currentMethod}",values:{currentMethod:t}})}),(0,m.jsx)(s.Z,{sx:{fontSize:16,ml:1,color:"info.main"},children:(0,m.jsx)(P.Z,{})})]}),(0,m.jsxs)(T.Z,{anchorEl:o,open:d,onClose:x,MenuListProps:{"aria-labelledby":"basic-button"},keepMounted:!0,"data-cy":"approveMenu_".concat(t),children:[(0,m.jsxs)(Z.Z,{"data-cy":"approveOption_".concat(E.n.PERMIT),selected:t===E.n.PERMIT,value:E.n.PERMIT,onClick:function(){t===E.n.APPROVE&&r(E.n.PERMIT),x()},children:[(0,m.jsx)(k.Z,{primaryTypographyProps:{variant:"subheader1"},children:(0,m.jsx)(a.cC,{id:"{0}",values:{0:E.n.PERMIT}})}),(0,m.jsx)(S.Z,{children:(0,m.jsx)(s.Z,{children:t===E.n.PERMIT&&(0,m.jsx)(A.Z,{})})})]}),(0,m.jsxs)(Z.Z,{"data-cy":"approveOption_".concat(E.n.APPROVE),selected:t===E.n.APPROVE,value:E.n.APPROVE,onClick:function(){t===E.n.PERMIT&&r(E.n.APPROVE),x()},children:[(0,m.jsx)(k.Z,{primaryTypographyProps:{variant:"subheader1"},children:(0,m.jsx)(a.cC,{id:"{0}",values:{0:E.n.APPROVE}})}),(0,m.jsx)(S.Z,{children:(0,m.jsx)(s.Z,{children:t===E.n.APPROVE&&(0,m.jsx)(A.Z,{})})})]})]})]})},N=r(89291),R=r(46930),L=r(16376),_=function(){return(0,m.jsx)(s.Z,{sx:{ml:"2px",fontSize:"11px"},children:(0,m.jsx)(C.Z,{})})},M=function(e){var t=e.approvalHash,r=e.tryPermit,n=(0,L.Yh)(),i=n.walletApprovalMethodPreference,o=n.setWalletApprovalMethodPreference,s=r&&i,l=(0,R.f)().currentNetworkConfig,d=t===N.Z;return t||d||!r?t&&!s?(0,m.jsx)(c.Z,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",pb:1},children:t&&(0,m.jsxs)(O.Z,{variant:"helperText",href:l.explorerLinkBuilder({tx:t}),sx:{display:"inline-flex",alignItems:"center"},underline:"hover",target:"_blank",rel:"noreferrer noopener",children:[(0,m.jsx)(a.cC,{id:"Review approval tx details"}),(0,m.jsx)(_,{})]})}):(0,m.jsx)(m.Fragment,{}):(0,m.jsxs)(c.Z,{sx:{display:"inline-flex",alignItems:"center",mb:2},children:[(0,m.jsxs)(u.Z,{variant:"subheader2",color:"text.secondary",children:[(0,m.jsx)(a.cC,{id:"Approve with"}),"\xa0"]}),(0,m.jsx)(D,{currentMethod:i,setMethod:function(e){return o(e)}})]})},B=["actionInProgressText","actionText","amount","approvalTxState","handleApproval","handleAction","isWrongNetwork","mainTxState","preparingTransactions","requiresAmount","requiresApproval","sx","symbol","blocked","fetchingData","errorParams","tryPermit","event"];function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U=function(e){var t=e.actionInProgressText,r=e.actionText,n=e.amount,f=e.approvalTxState,v=e.handleApproval,j=e.handleAction,b=e.isWrongNetwork,g=e.mainTxState,C=e.preparingTransactions,O=e.requiresAmount,w=e.requiresApproval,A=e.sx,P=e.symbol,T=e.blocked,Z=e.fetchingData,k=void 0!==Z&&Z,S=e.errorParams,I=e.tryPermit,E=(e.event,(0,i.Z)(e,B)),D=(0,x.vR)().txError,N=(0,p.Z)().readOnlyModeAddress,R=w&&(null===D||void 0===D?void 0:D.txAction)===h.aD.APPROVAL&&(null===D||void 0===D?void 0:D.actionBlocked),L=O&&O&&0===Number(n);var _=T?{disabled:!0,content:r}:(null===D||void 0===D?void 0:D.txAction)!==h.aD.GAS_ESTIMATION&&(null===D||void 0===D?void 0:D.txAction)!==h.aD.MAIN_ACTION||null===D||void 0===D||!D.actionBlocked?b?{disabled:!0,content:(0,m.jsx)(a.cC,{id:"Wrong Network"})}:k?{disabled:!0,content:(0,m.jsx)(a.cC,{id:"Fetching data..."})}:L?{disabled:!0,content:(0,m.jsx)(a.cC,{id:"Enter an amount"})}:C?{disabled:!0,loading:!0}:null!==g&&void 0!==g&&g.loading?{loading:!0,disabled:!0,content:t}:!w||null!==f&&void 0!==f&&f.success?{content:r,handleClick:j}:{disabled:!0,content:r}:S||{loading:!1,disabled:!0,content:r},G=_.content,U=_.disabled,z=_.loading,F=_.handleClick,H=!w||b||L||C||R?null:null!==f&&void 0!==f&&f.loading?{loading:!0,disabled:!0,content:(0,m.jsx)(a.cC,{id:"Approving {symbol}...",values:{symbol:P}})}:null!==f&&void 0!==f&&f.success?{disabled:!0,content:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(a.cC,{id:"Approve Confirmed"}),(0,m.jsx)(s.Z,{sx:{fontSize:20,ml:2},children:(0,m.jsx)(o.Z,{})})]})}:{content:(0,m.jsx)(y,{variant:"buttonL",iconSize:20,iconMargin:2,color:"white",text:(0,m.jsx)(a.cC,{id:"Approve {symbol} to continue",values:{symbol:P}})}),handleClick:v};return(0,m.jsxs)(c.Z,V(V({sx:V({display:"flex",flexDirection:"column",mt:12},A)},E),{},{children:[H&&!N&&(0,m.jsx)(c.Z,{sx:{display:"flex",justifyContent:"end",alignItems:"center"},children:(0,m.jsx)(M,{approvalHash:null===f||void 0===f?void 0:f.txHash,tryPermit:I})}),H&&!N&&(0,m.jsxs)(l.Z,{variant:"contained",disabled:H.disabled||T,onClick:function(){return H.handleClick&&H.handleClick()},size:"large",sx:{minHeight:"44px"},"data-cy":"approvalButton",children:[H.loading&&(0,m.jsx)(d.Z,{color:"inherit",size:"16px",sx:{mr:2}}),H.content]}),(0,m.jsxs)(l.Z,{variant:"contained",disabled:U||T||void 0!==N,onClick:F,size:"large",sx:V({minHeight:"44px"},H?{mt:2}:{}),"data-cy":"actionButton",children:[z&&(0,m.jsx)(d.Z,{color:"inherit",size:"16px",sx:{mr:2}}),G]}),N&&(0,m.jsx)(u.Z,{variant:"helperText",color:"warning.main",sx:{textAlign:"center",mt:2},children:(0,m.jsx)(a.cC,{id:"Read-only mode. Connect to a wallet to perform transactions."})})]}))}},10343:function(e,t,r){r.d(t,{I:function(){return h}});var n=r(59499),i=r(49501),a=r(29630),o=r(75084),s=r(77537),c=r(16376),l=r(57609),d=r(69331),u=r(85893);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(e){var t=e.networkName,r=e.chainId,n=e.event,x=e.funnel,h=(0,s.Z)(),f=h.switchNetwork,v=h.switchNetworkError,j=(0,c.Yh)((function(e){return e.trackEvent}));return(0,u.jsx)(d.v,{severity:"error",icon:!1,children:v?(0,u.jsx)(a.Z,{children:(0,u.jsx)(i.cC,{id:"Seems like we can't switch the network automatically. Please check if you can change it from the wallet."})}):(0,u.jsxs)(a.Z,{variant:"description",children:[(0,u.jsx)(i.cC,{id:"Please switch to {networkName}.",values:{networkName:t}})," ",(0,u.jsx)(o.Z,{variant:"text",sx:{ml:"2px",verticalAlign:"top"},onClick:function(){j(l.vh.SWITCH_NETWORK,p(p({funnel:x},null===n||void 0===n?void 0:n.eventParams),{},{network:t})),f(r)},disableRipple:!0,children:(0,u.jsx)(a.Z,{variant:"description",children:(0,u.jsx)(i.cC,{id:"Switch Network"})})})]})})}},29946:function(e,t,r){var n,i;r.d(t,{z:function(){return i}}),function(e){e.VOTING="0",e.PROPOSITION_POWER="1",e.BOTH="2"}(n||(n={})),function(e){e[e.ENABLED=0]="ENABLED",e[e.ISOLATED_ENABLED=1]="ISOLATED_ENABLED",e[e.DISABLED=2]="DISABLED",e[e.ISOLATED_DISABLED=3]="ISOLATED_DISABLED",e[e.UNAVAILABLE=4]="UNAVAILABLE",e[e.UNAVAILABLE_DUE_TO_ISOLATION=5]="UNAVAILABLE_DUE_TO_ISOLATION"}(i||(i={}))},89291:function(e,t,r){r.d(t,{Z:function(){return w},Q:function(){return A}});var n=r(90116),i=r(59499),a=r(50029),o=r(17674),s=r(87794),c=r.n(s),l=r(75331),d=r(80854),u=r(53670),x=r(67294),p=r(19419),h=r(8195),f=r(77537),v=r(16376),j=r(32113),m=r(39771),b=r(15591);function g(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w="Signed correctly",A=function(e){var t=e.handleGetTxns,r=e.handleGetPermitTxns,i=e.tryPermit,s=void 0!==i&&i,y=e.permitAction,C=e.skip,A=e.protocolAction,P=e.deps,T=void 0===P?[]:P,Z=e.eventTxInfo,k=(0,h.vR)(),S=k.approvalTxState,I=k.setApprovalTxState,E=k.mainTxState,D=k.setMainTxState,N=k.setGasLimit,R=k.loadingTxns,L=k.setLoadingTxns,_=k.setTxError,M=(0,f.Z)(),B=M.signTxData,G=M.sendTx,V=M.getTxError,U=(0,p.n)(),z=U.refetchPoolData,F=U.refetchIncentiveData,H=U.refetchGhoData,W=(0,x.useState)([]),q=W[0],Y=W[1],Q=(0,x.useState)(),X=Q[0],K=Q[1],J=(0,v.Yh)((function(e){return[e.signERC20Approval,e.walletApprovalMethodPreference,e.generateCreditDelegationSignatureRequest,e.generatePermitPayloadForMigrationSupplyAsset,e.addTransaction,e.signStakingApproval,e.currentMarketData]})),$=(0,o.Z)(J,7),ee=$[0],te=$[1],re=$[2],ne=$[3],ie=$[4],ae=$[5],oe=$[6],se=(0,x.useState)(),ce=se[0],le=se[1],de=(0,x.useState)(),ue=de[0],xe=de[1],pe=(0,x.useState)(!1),he=pe[0],fe=pe[1],ve=(0,x.useRef)(!1);(0,x.useEffect)((function(){return ve.current=!0,function(){ve.current=!1}}),[]);var je=function(){var e=(0,a.Z)(c().mark((function e(t){var r,n,i,a,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.tx,n=t.errorCallback,i=t.successCallback,a=t.approval,e.prev=1,e.next=4,r();case 4:return o=e.sent,e.prev=5,e.next=8,o.wait(1);case 8:ve.current&&i&&i(o),ie(o.hash,O({txState:"success",action:a?l.UQ.approval:null!==A&&void 0!==A?A:l.UQ.default},Z)),u.queryClient.invalidateQueries({queryKey:b.B.pool}),u.queryClient.invalidateQueries({queryKey:b.B.staking}),z&&z(),H&&H(),F&&F(),e.next=34;break;case 17:return e.prev=17,e.t0=e.catch(5),e.prev=19,e.next=22,V(o.hash);case 22:return s=e.sent,ve.current&&n&&n(new Error(s),o.hash),e.abrupt("return");case 27:return e.prev=27,e.t1=e.catch(19),ve.current&&n&&n(e.t1,o.hash),e.abrupt("return");case 31:return e.prev=31,ie(o.hash,O({txState:"failed",action:A||l.UQ.default},Z)),e.finish(31);case 34:return e.abrupt("return");case 37:e.prev=37,e.t2=e.catch(1),n&&n(e.t2);case 40:case"end":return e.stop()}}),e,null,[[1,37],[5,17],[19,27,31,34]])})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=(0,a.Z)(c().mark((function e(t){var r,n,i,o,s,l,d,u,x,p,h,f,v,j,b;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ce){e.next=77;break}if(!(he&&t&&(null===t||void 0===t?void 0:t.length)>0)){e.next=59;break}I(O(O({},S),{},{loading:!0})),e.prev=3,r=Math.floor(Date.now()/1e3+3600).toString(),n=[],i=g(t);try{for(i.s();!(o=i.n()).done;)(s=o.value).permitType&&"POOL"!=s.permitType?"SUPPLY_MIGRATOR_V3"===s.permitType?n.push(ne(O(O({},s),{},{deadline:r}))):"BORROW_MIGRATOR_V3"===s.permitType?n.push(re(O(O({},s),{},{deadline:r,spender:oe.addresses.V3_MIGRATOR||""}))):"STAKE"===s.permitType&&n.push(ae({token:s.underlyingAsset,amount:s.amount,deadline:r})):n.push(ee({reserve:s.underlyingAsset,amount:s.amount,deadline:r}))}catch(y){i.e(y)}finally{i.f()}return e.prev=8,l=[],e.next=12,Promise.all(n);case 12:d=e.sent,u=g(d),e.prev=14,u.s();case 16:if((x=u.n()).done){e.next=25;break}return p=x.value,e.t0=l,e.next=21,B(p);case 21:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 23:e.next=16;break;case 25:e.next=30;break;case 27:e.prev=27,e.t2=e.catch(14),u.e(e.t2);case 30:return e.prev=30,u.f(),e.finish(30);case 33:if(ve.current){e.next=35;break}return e.abrupt("return");case 35:Y(l),K(r),I({txHash:w,loading:!1,success:!0}),_(void 0),e.next=48;break;case 41:if(e.prev=41,e.t3=e.catch(8),ve.current){e.next=45;break}return e.abrupt("return");case 45:h=(0,m.WG)(e.t3,m.aD.APPROVAL,!1),_(h),I({txHash:void 0,loading:!1});case 48:e.next=57;break;case 50:if(e.prev=50,e.t4=e.catch(3),ve.current){e.next=54;break}return e.abrupt("return");case 54:f=(0,m.WG)(e.t4,m.aD.GAS_ESTIMATION,!1),_(f),I({txHash:void 0,loading:!1});case 57:e.next=77;break;case 59:return e.prev=59,I(O(O({},S),{},{loading:!0})),e.next=63,Promise.all(ce.map((function(e){return e.tx()})));case 63:return v=e.sent,e.next=66,Promise.all(v.map((function(e){return new Promise(function(){var t=(0,a.Z)(c().mark((function t(r,n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:delete e.gasPrice,je({tx:function(){return G(e)},successCallback:function(e){r(e)},errorCallback:function(e,t){var r=(0,m.WG)(e,m.aD.APPROVAL,!1);_(r),I({txHash:t,loading:!1}),n()},approval:!0});case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())})));case 66:j=e.sent,I({txHash:j[0].hash,loading:!1,success:!0}),e.next=77;break;case 70:if(e.prev=70,e.t5=e.catch(59),ve.current){e.next=74;break}return e.abrupt("return");case 74:b=(0,m.WG)(e.t5,m.aD.GAS_ESTIMATION,!1),_(b),I({txHash:void 0,loading:!1});case 77:case"end":return e.stop()}}),e,null,[[3,50],[8,41],[14,27,30,33],[59,70]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=(0,a.Z)(c().mark((function e(){var t,n,i,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!he||!r){e.next=21;break}if(q.length&&X){e.next=3;break}throw new Error("signature needed");case 3:return e.prev=3,D(O(O({},E),{},{loading:!0})),e.next=7,r(q,X);case 7:return t=e.sent,e.next=10,t[0].tx();case 10:return delete(n=e.sent).gasPrice,e.abrupt("return",je({tx:function(){return G(n)},successCallback:function(e){D({txHash:e.hash,loading:!1,success:!0}),_(void 0)},errorCallback:function(e,t){var r=(0,m.WG)(e,m.aD.MAIN_ACTION);_(r),D({txHash:t,loading:!1})}}));case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0,"error"),i=(0,m.WG)(e.t0,m.aD.GAS_ESTIMATION,!1),_(i),D({txHash:void 0,loading:!1});case 21:if(he&&ce||!ue){e.next=37;break}return e.prev=22,D(O(O({},E),{},{loading:!0})),e.next=26,ue.tx();case 26:return delete(a=e.sent).gasPrice,e.abrupt("return",je({tx:function(){return G(a)},successCallback:function(e){D({txHash:e.hash,loading:!1,success:!0}),_(void 0)},errorCallback:function(e,t){var r=(0,m.WG)(e,m.aD.MAIN_ACTION);_(r),D({txHash:t,loading:!1})}}));case 31:e.prev=31,e.t1=e.catch(22),o=(0,m.WG)(e.t1,m.aD.GAS_ESTIMATION,!1),console.log(e.t1,o),_(o),D({txHash:void 0,loading:!1});case 37:case"end":return e.stop()}}),e,null,[[3,15],[22,31]])})));return function(){return e.apply(this,arguments)}}();return(0,x.useEffect)((function(){if(!C){L(!0);var e=setTimeout((function(){return L(!0),t().then(function(){var e=(0,a.Z)(c().mark((function e(t){var n,i,a,o,l,u,x,p,h;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ve.current){e.next=2;break}return e.abrupt("return");case 2:if(n=t.filter((function(e){return"ERC20_APPROVAL"==e.txType})),n.length>0&&le(n),i=s&&te===j.n.PERMIT&&r&&y,!(n.length>0&&i)){e.next=14;break}fe(!0),a=d.eB[y],N(a.limit||""),D({txHash:void 0}),_(void 0),L(!1),e.next=50;break;case 14:fe(!1),n.length>0&&le(n),xe(t.find((function(e){return["DLP_ACTION","REWARD_ACTION","FAUCET_V2_MINT","FAUCET_MINT","STAKE_ACTION","GOV_DELEGATION_ACTION","GOVERNANCE_ACTION","V3_MIGRATION_ACTION"].includes(e.txType)}))),D({txHash:void 0}),_(void 0),o=0,e.prev=20,l=g(t),e.prev=22,l.s();case 24:if((u=l.n()).done){e.next=32;break}return x=u.value,e.next=28,x.gas();case 28:(p=e.sent)&&p.gasLimit&&(o+=Number(p.gasLimit));case 30:e.next=24;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(22),l.e(e.t0);case 37:return e.prev=37,l.f(),e.finish(37);case 40:e.next=48;break;case 42:if(e.prev=42,e.t1=e.catch(20),ve.current){e.next=46;break}return e.abrupt("return");case 46:h=(0,m.WG)(e.t1,m.aD.GAS_ESTIMATION,!1),_(h);case 48:N(o.toString()||""),L(!1);case 50:case"end":return e.stop()}}),e,null,[[20,42],[22,34,37,40]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){if(ve.current){D({txHash:void 0});var t=(0,m.WG)(e,m.aD.GAS_ESTIMATION,!1);_(t),L(!1)}}))}),1e3);return function(){return clearTimeout(e)}}le(void 0),xe(void 0)}),[C].concat((0,n.Z)(T),[s,te])),{approval:me,action:be,loadingTxns:R,setUsePermit:fe,requiresApproval:!!ce||he,approvalTxState:S,mainTxState:E,usePermit:he}}},39771:function(e,t,r){r.d(t,{aD:function(){return n},WG:function(){return o}});var n,i=r(49501),a=r(85893);!function(e){e[e.APPROVAL=0]="APPROVAL",e[e.MAIN_ACTION=1]="MAIN_ACTION",e[e.GAS_ESTIMATION=2]="GAS_ESTIMATION"}(n||(n={}));var o=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=1;if("MetaMask Tx Signature: User denied transaction signature."===e.message||"MetaMask Message Signature: User denied message signature."===e.message)return{error:s[4001],blocking:!1,actionBlocked:!1,rawError:e,txAction:t};try{var i,a=JSON.parse(null===e||void 0===e||null===(i=e.error)||void 0===i?void 0:i.body),o=Number(a.error.message.split(": ")[1]);isNaN(o)||(n=o)}catch(l){}var c=s[n];return c?{error:c,blocking:r,actionBlocked:!0,rawError:e,txAction:t}:{error:void 0,blocking:r,actionBlocked:!0,rawError:e,txAction:t}},s={7:(0,a.jsx)(i.cC,{id:"Pool addresses provider is not registered"}),9:(0,a.jsx)(i.cC,{id:"Address is not a contract"}),11:(0,a.jsx)(i.cC,{id:"The caller of the function is not an AToken"}),12:(0,a.jsx)(i.cC,{id:"The address of the pool addresses provider is invalid"}),13:(0,a.jsx)(i.cC,{id:"Invalid return value of the flashloan executor function"}),19:(0,a.jsx)(i.cC,{id:"Invalid flashloan premium"}),22:(0,a.jsx)(i.cC,{id:"Invalid bridge protocol fee"}),23:(0,a.jsx)(i.cC,{id:"The caller of this function must be a pool"}),24:(0,a.jsx)(i.cC,{id:"Invalid amount to mint"}),25:(0,a.jsx)(i.cC,{id:"Invalid amount to burn"}),26:(0,a.jsx)(i.cC,{id:"Amount must be greater than 0"}),27:(0,a.jsx)(i.cC,{id:"Action requires an active reserve"}),28:(0,a.jsx)(i.cC,{id:"Action cannot be performed because the reserve is frozen"}),29:(0,a.jsx)(i.cC,{id:"Action cannot be performed because the reserve is paused"}),30:(0,a.jsx)(i.cC,{id:"Borrowing is not enabled"}),31:(0,a.jsx)(i.cC,{id:"Stable borrowing is not enabled"}),32:(0,a.jsx)(i.cC,{id:"User cannot withdraw more than the available balance"}),34:(0,a.jsx)(i.cC,{id:"The collateral balance is 0"}),35:(0,a.jsx)(i.cC,{id:"Health factor is lesser than the liquidation threshold"}),36:(0,a.jsx)(i.cC,{id:"There is not enough collateral to cover a new borrow"}),37:(0,a.jsx)(i.cC,{id:"Collateral is (mostly) the same currency that is being borrowed"}),38:(0,a.jsx)(i.cC,{id:"The requested amount is greater than the max loan size in stable rate mode"}),39:(0,a.jsx)(i.cC,{id:"For repayment of a specific type of debt, the user needs to have debt that type"}),40:(0,a.jsx)(i.cC,{id:"To repay on behalf of a user an explicit amount to repay is needed"}),41:(0,a.jsx)(i.cC,{id:"User does not have outstanding stable rate debt on this reserve"}),42:(0,a.jsx)(i.cC,{id:"User does not have outstanding variable rate debt on this reserve"}),43:(0,a.jsx)(i.cC,{id:"The underlying balance needs to be greater than 0"}),44:(0,a.jsx)(i.cC,{id:"Interest rate rebalance conditions were not met"}),45:(0,a.jsx)(i.cC,{id:"Health factor is not below the threshold"}),46:(0,a.jsx)(i.cC,{id:"The collateral chosen cannot be liquidated"}),47:(0,a.jsx)(i.cC,{id:"User did not borrow the specified currency"}),48:(0,a.jsx)(i.cC,{id:"Borrow and repay in same block is not allowed"}),49:(0,a.jsx)(i.cC,{id:"Inconsistent flashloan parameters"}),50:(0,a.jsx)(i.cC,{id:"Borrow cap is exceeded"}),51:(0,a.jsx)(i.cC,{id:"Supply cap is exceeded"}),52:(0,a.jsx)(i.cC,{id:"Unbacked mint cap is exceeded"}),53:(0,a.jsx)(i.cC,{id:"Debt ceiling is exceeded"}),54:(0,a.jsx)(i.cC,{id:"AToken supply is not zero"}),55:(0,a.jsx)(i.cC,{id:"Stable debt supply is not zero"}),56:(0,a.jsx)(i.cC,{id:"Variable debt supply is not zero"}),57:(0,a.jsx)(i.cC,{id:"Ltv validation failed"}),60:(0,a.jsx)(i.cC,{id:"Asset is not borrowable in isolation mode"}),62:(0,a.jsx)(i.cC,{id:"User is in isolation mode"}),76:(0,a.jsx)(i.cC,{id:"Array parameters that should be equal length are not"}),77:(0,a.jsx)(i.cC,{id:"Zero address not valid"}),78:(0,a.jsx)(i.cC,{id:"Invalid expiration"}),79:(0,a.jsx)(i.cC,{id:"Invalid signature"}),80:(0,a.jsx)(i.cC,{id:"Operation not supported"}),81:(0,a.jsx)(i.cC,{id:"Debt ceiling is not zero"}),82:(0,a.jsx)(i.cC,{id:"Asset is not listed"}),85:(0,a.jsx)(i.cC,{id:"The underlying asset cannot be rescued"}),88:(0,a.jsx)(i.cC,{id:"Stable borrowing is enabled"}),89:(0,a.jsx)(i.cC,{id:"User is trying to borrow multiple assets including a siloed one"}),4001:(0,a.jsx)(i.cC,{id:"You cancelled the transaction."})}}}]);