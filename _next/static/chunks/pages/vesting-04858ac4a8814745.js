(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[989],{90149:function(e,t,r){"use strict";var n=r(63366),i=r(87462),a=r(67294),s=r(86010),o=r(94780),l=r(70917),c=r(36622),d=r(78884),u=r(81719),x=r(23309),m=r(85893);const h=["className","color","disableShrink","size","style","thickness","value","variant"];let v,f,p,b,g=e=>e;const Z=44,y=(0,l.F4)(v||(v=g`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),j=(0,l.F4)(f||(f=g`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),k=(0,u.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${(0,c.Z)(r.color)}`]]}})((({ownerState:e,theme:t})=>(0,i.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,l.iv)(p||(p=g`
      animation: ${0} 1.4s linear infinite;
    `),y))),w=(0,u.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),C=(0,u.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${(0,c.Z)(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})((({ownerState:e,theme:t})=>(0,i.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,l.iv)(b||(b=g`
      animation: ${0} 1.4s ease-in-out infinite;
    `),j))),S=a.forwardRef((function(e,t){const r=(0,d.Z)({props:e,name:"MuiCircularProgress"}),{className:a,color:l="primary",disableShrink:u=!1,size:v=40,style:f,thickness:p=3.6,value:b=0,variant:g="indeterminate"}=r,y=(0,n.Z)(r,h),j=(0,i.Z)({},r,{color:l,disableShrink:u,size:v,thickness:p,value:b,variant:g}),S=(e=>{const{classes:t,variant:r,color:n,disableShrink:i}=e,a={root:["root",r,`color${(0,c.Z)(n)}`],svg:["svg"],circle:["circle",`circle${(0,c.Z)(r)}`,i&&"circleDisableShrink"]};return(0,o.Z)(a,x.C,t)})(j),I={},D={},E={};if("determinate"===g){const e=2*Math.PI*((Z-p)/2);I.strokeDasharray=e.toFixed(3),E["aria-valuenow"]=Math.round(b),I.strokeDashoffset=`${((100-b)/100*e).toFixed(3)}px`,D.transform="rotate(-90deg)"}return(0,m.jsx)(k,(0,i.Z)({className:(0,s.default)(S.root,a),style:(0,i.Z)({width:v,height:v},D,f),ownerState:j,ref:t,role:"progressbar"},E,y,{children:(0,m.jsx)(w,{className:S.svg,ownerState:j,viewBox:"22 22 44 44",children:(0,m.jsx)(C,{className:S.circle,style:I,ownerState:j,cx:Z,cy:Z,r:(Z-p)/2,fill:"none",strokeWidth:p})})}))}));t.Z=S},23309:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var n=r(34867);function i(e){return(0,n.Z)("MuiCircularProgress",e)}const a=(0,r(1588).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);t.Z=a},64288:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(63366),i=r(87462),a=r(67294),s=r(86010),o=r(28320),l=r(34867),c=r(94780),d=r(29628),u=r(13264),x=r(66500),m=r(85893);const h=["className","component","disableGutters","fixed","maxWidth","classes"],v=(0,x.Z)(),f=(0,u.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${(0,o.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),p=e=>(0,d.Z)({props:e,name:"MuiContainer",defaultTheme:v});var b=r(36622),g=r(81719),Z=r(78884);const y=function(e={}){const{createStyledComponent:t=f,useThemeProps:r=p,componentName:d="MuiContainer"}=e,u=t((({theme:e,ownerState:t})=>(0,i.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}})),(({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce(((t,r)=>{const n=r,i=e.breakpoints.values[n];return 0!==i&&(t[e.breakpoints.up(n)]={maxWidth:`${i}${e.breakpoints.unit}`}),t}),{})),(({theme:e,ownerState:t})=>(0,i.Z)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}}))),x=a.forwardRef((function(e,t){const a=r(e),{className:x,component:v="div",disableGutters:f=!1,fixed:p=!1,maxWidth:b="lg"}=a,g=(0,n.Z)(a,h),Z=(0,i.Z)({},a,{component:v,disableGutters:f,fixed:p,maxWidth:b}),y=((e,t)=>{const{classes:r,fixed:n,disableGutters:i,maxWidth:a}=e,s={root:["root",a&&`maxWidth${(0,o.Z)(String(a))}`,n&&"fixed",i&&"disableGutters"]};return(0,c.Z)(s,(e=>(0,l.Z)(t,e)),r)})(Z,d);return(0,m.jsx)(u,(0,i.Z)({as:v,ownerState:Z,className:(0,s.default)(y.root,x),ref:t},g))}));return x}({createStyledComponent:(0,g.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${(0,b.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,Z.Z)({props:e,name:"MuiContainer"})});var j=y},18377:function(e,t,r){"use strict";const n=(0,r(61354).Z)();t.Z=n},13264:function(e,t,r){"use strict";const n=(0,r(70182).ZP)();t.Z=n},70451:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Y}});var n=r(67294),i=r(22454),a=r(16376),s=r(45745),o=r(15446),l=r(83550),c=r(77537),d=r(75331),u=r(62097),x=r(61225),m=r(30120),h=r(49501),v=r(1279),f=r(29630),p=r(91655),b=r(75084),g=r(45556),Z=r(41024),y=r(34220),j=r(8195),k=r(46930),w=r(85893),C=function(){var e=(0,k.f)().currentMarketData,t=(0,y.HT)(),r=t.user,i=t.reserves,a=t.loading,s=(0,j.vR)().openClaimRewards,o=(0,u.Z)(),l=(0,x.Z)(o.breakpoints.down("sm")),c=(0,n.useState)("0"),C=c[0],S=c[1],I=(0,n.useState)("all"),D=I[0],E=I[1],R=(0,n.useState)(),A=R[0],N=R[1],P=(0,n.useState)([]),W=P[0],T=P[1],V=(0,n.useState)(void 0),_=V[0],L=V[1];(0,n.useEffect)((function(){var t=[],n=Number(C),a=[];if(Object.keys(r.calculatedUserIncentives).forEach((function(s){var o=r.calculatedUserIncentives[s],l=(0,v.Fv)(o.claimableRewards,o.rewardTokenDecimals),c=0;if(!e.v3&&Number(l)>0)if(e.chainId===d.a_.mainnet){var u=i.find((function(e){return"AAVE"===e.symbol}));c=u?Number(u.priceInUSD):0}else i.forEach((function(e){e.isWrappedBaseAsset&&(c=Number(e.priceInUSD))}));else c=Number(o.rewardPriceFeed);var x=Number(l)*c;x>0&&(o.assets.forEach((function(e){-1===a.indexOf(e)&&a.push(e)})),t.push({assets:o.assets,incentiveControllerAddress:o.incentiveControllerAddress,symbol:o.rewardTokenSymbol,balance:l,balanceUsd:x.toString(),rewardTokenAddress:s}),n+=Number(x))})),1===t.length)E(t[0].symbol);else if(t.length>1&&!B){var s={assets:a,incentiveControllerAddress:t[0].incentiveControllerAddress,symbol:"all",balance:"0",balanceUsd:n.toString(),rewardTokenAddress:""};E("all"),N(s)}T(t),S(n.toString()),L(t.filter((function(e){return"vYIELD"===e.symbol}))[0])}),[r.calculatedUserIncentives]);var B="all"===D?A:W.find((function(e){return e.symbol===D}));return(0,w.jsx)(m.Z,{position:"relative",overflow:"hidden",children:(0,w.jsx)(g.l,{titleComponent:(0,w.jsxs)(m.Z,{children:[(0,w.jsx)(f.Z,{component:"div",variant:"h3",sx:{mr:4},children:(0,w.jsx)(h.cC,{id:"Liquidity Rewards"})}),(0,w.jsx)(f.Z,{variant:"description",color:"text.muted",sx:{mt:2},children:(0,w.jsx)(h.cC,{id:"How much rewards you have earned by providing liquidity YIELD."})})]}),children:(0,w.jsxs)(m.Z,{sx:l?{px:4,pb:6}:{px:6,pb:6},borderTop:"1px solid gray",children:[(0,w.jsx)(m.Z,{sx:{mb:6,pt:4},children:a?(0,w.jsx)(p.Z,{width:60,height:l?28:24,sx:{background:"#4c3f26"}}):(0,w.jsxs)(m.Z,{children:[(0,w.jsx)(Z.B,{value:void 0===_?"0":_.balance,variant:"h1",visibleDecimals:2,symbol:" vYIELD",compact:!0,symbolsColor:"#A5A8B6",symbolsVariant:"display1","data-cy":"Claim_Value",sx:{display:"flex",alignItems:"baseline"}}),(0,w.jsx)(Z.B,{value:void 0===_?"0":_.balanceUsd,variant:"h4",visibleDecimals:2,symbol:"USD",compact:!0,symbolsColor:"#A5A8B6",symbolsVariant:"h4","data-cy":"Claim_Value",sx:{display:"flex",alignItems:"baseline"}})]})}),(0,w.jsx)(b.Z,{variant:"outlined",onClick:function(){return s()},children:"Claim LP Rewards"})]})})})},S=r(18377),I=function(e){var t=(0,j.vR)(),r=t.openStakeZero,n=t.openExitEarly,i=t.openWithdrawVestZero;return(0,w.jsxs)(S.Z,{borderTop:"1px solid gray",mt:4,pt:4,px:6,children:[(0,w.jsxs)(f.Z,{variant:"h3",color:"white",mb:1,children:["Claim #",e.data.id]}),(0,w.jsxs)(S.Z,{display:"flex",alignItems:"flex-start",justifyContent:"space-between",children:[(0,w.jsx)(f.Z,{variant:"secondary16",color:"text.muted",mb:1,children:"Currently vesting"}),(0,w.jsxs)(S.Z,{display:"flex",alignItems:"center",justifyContent:"flex-start",children:[(0,w.jsx)(Z.B,{value:e.data.total,variant:"secondary21",fontWeight:"bold",visibleDecimals:2,compact:!0,mr:2,sx:{display:"flex",alignItems:"baseline"}}),"YIELD"]})]}),(0,w.jsxs)(S.Z,{display:"flex",alignItems:"flex-start",justifyContent:"space-between",children:[(0,w.jsx)(f.Z,{variant:"secondary16",color:"text.muted",mb:1,children:"Available to Claim"}),(0,w.jsxs)(S.Z,{display:"flex",alignItems:"center",justifyContent:"flex-start",children:[(0,w.jsx)(Z.B,{value:e.data.claimable,variant:"secondary21",fontWeight:"bold",visibleDecimals:2,compact:!0,mr:2,sx:{display:"flex",alignItems:"baseline"}}),"YIELD"]})]}),(0,w.jsxs)(S.Z,{display:"flex",alignItems:"flex-start",justifyContent:"space-between",mt:2,children:[(0,w.jsx)(S.Z,{children:(0,w.jsx)(b.Z,{variant:"contained",onClick:function(){return r("ZERO")},children:"Stake & Get Bonus"})}),(0,w.jsx)(S.Z,{flex:1}),(0,w.jsx)(S.Z,{children:(0,w.jsx)(b.Z,{variant:"outlined",onClick:function(){return n("ZERO")},children:"Exit Early"})}),"\xa0 \xa0",(0,w.jsx)(S.Z,{children:(0,w.jsx)(b.Z,{variant:"outlined",onClick:function(){return i("ZERO")},children:"Claim YIELD"})})]})]})},D=function(){var e=(0,u.Z)(),t=(0,x.Z)(e.breakpoints.down("md"));return(0,w.jsx)(m.Z,{position:"relative",overflow:"hidden",mt:t?6:0,children:(0,w.jsx)(g.l,{titleComponent:(0,w.jsxs)(m.Z,{children:[(0,w.jsx)(f.Z,{component:"div",variant:"h3",children:(0,w.jsx)(h.cC,{id:"Active Vests"})}),(0,w.jsx)(f.Z,{variant:"description",color:"text.muted",sx:{mt:2},children:(0,w.jsx)(h.cC,{id:"Vests that are currently active will be shown here. You can claim your rewards or convert your tokens directly into a 4-year stake. You can also claim your rewards early but pay a withdrawal penalty."})})]}),children:(0,w.jsx)(m.Z,{pb:6,mt:-4,children:0===[].length?(0,w.jsx)(f.Z,{variant:"description",color:"text.muted",px:6,pt:4,mt:4,borderTop:"1px solid gray",children:(0,w.jsx)(h.cC,{id:'There are no vests that are currently active. You can create a vest by using the "Create Vest" button on the left.'})}):(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(I,{data:{claimable:100,claimed:2,total:1232,id:123}})})})})})},E=r(50029),R=r(87794),A=r.n(R),N=r(2593),P=r(25298),W=r(26262),T=function(e){var t=(0,n.useState)(N.O$.from("0")),r=t[0],i=t[1],a=(0,c.Z)().currentAccount,s=(0,W.z)().poolTokensBalanceService,o=P.ei[P.el.proto_base_v3],l=(0,n.useMemo)((function(){return Object.values(P.ei).filter((function(e){return e.chainId===o.chainId}))}),[o.chainId]),d=(0,n.useCallback)((0,E.Z)(A().mark((function t(){var r;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e){t.next=5;break}return t.next=3,s.getTokenBalance(l[0],e,a);case 3:r=t.sent,i(N.O$.from(r.amount));case 5:case"end":return t.stop()}}),t)}))),[l,s,e,a]);return(0,n.useEffect)((function(){d().catch((function(e){i(N.O$.from("0")),console.error("Failed to fetch fetchTokenBalance values: ".concat(e.stack))}))}),[d,e]),r},V=function(){var e=(0,y.HT)().loading,t=(0,u.Z)(),r=(0,x.Z)(t.breakpoints.down("sm")),n=T("0x3F7A11bb98959966260347233BFE6559a1067dbf");return(0,w.jsx)(m.Z,{position:"relative",overflow:"hidden",mt:6,children:(0,w.jsx)(g.l,{titleComponent:(0,w.jsxs)(m.Z,{children:[(0,w.jsx)(f.Z,{component:"div",variant:"h3",sx:{mr:4},children:(0,w.jsx)(h.cC,{id:"Unvested Rewards"})}),(0,w.jsx)(f.Z,{variant:"description",color:"text.muted",sx:{mt:2},children:(0,w.jsx)(h.cC,{id:"Rewards that have been claimed but not yet started vesting. You can create a vest to start claiming YIELD."})})]}),children:(0,w.jsxs)(m.Z,{sx:r?{px:4,pb:6}:{px:6,pb:6},borderTop:"1px solid gray",pt:4,children:[(0,w.jsx)(m.Z,{sx:{mb:6,pt:4},children:e?(0,w.jsx)(p.Z,{width:60,height:r?28:24,sx:{background:"#4c3f26"}}):(0,w.jsxs)(m.Z,{children:[(0,w.jsx)(Z.B,{value:(0,v.pV)(n.toString(),18).toString(),variant:"h1",visibleDecimals:2,symbol:" vYIELD",compact:!0,symbolsColor:"#A5A8B6",symbolsVariant:"display1","data-cy":"Claim_Value",sx:{display:"flex",alignItems:"baseline"}}),(0,w.jsx)(Z.B,{value:(0,v.pV)(n.toString(),18).multipliedBy(2).div(1e6).toString(),variant:"h4",visibleDecimals:2,symbol:"USD",compact:!0,symbolsColor:"#A5A8B6",symbolsVariant:"h4","data-cy":"Claim_Value",sx:{display:"flex",alignItems:"baseline"}})]})}),(0,w.jsx)(b.Z,{variant:"outlined",disabled:!0,children:"Vesting is not yet active"})]})})})},_=function(){var e=(0,u.Z)().breakpoints,t=(0,a.Yh)((function(e){return e.currentMarketData})),r=(0,x.Z)(e.up("lg")),n=r?"calc(50% - 8px)":"100%";return(0,w.jsxs)(m.Z,{children:[t.chainId===d.a_.polygon&&!t.v3,(0,w.jsxs)(m.Z,{sx:{display:r?"flex":"block",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,w.jsxs)(m.Z,{sx:{display:{xs:"block",lg:"block"},width:n},children:[(0,w.jsx)(C,{}),(0,w.jsx)(V,{})]}),(0,w.jsx)(m.Z,{sx:{display:{xs:"block",lg:"block"},width:n},children:(0,w.jsx)(D,{})})]})]})},L=r(40535),B=r(74815),M=function(){var e=(0,k.f)().currentNetworkConfig;return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(B.f,{titleComponent:(0,w.jsx)(m.Z,{sx:{display:"flex",alignItems:"center"},children:(0,w.jsx)(L.V,{pageTitle:(0,w.jsx)(h.cC,{id:"Vesting"}),withMarketSwitcher:!1,bridge:e.bridge})}),pageDesc:(0,w.jsx)(h.cC,{id:"Here users can convert their vYIELD into YIELD from the vesting contract. All earned are vYIELD convertable into YIELD through this page. Users can also convert their vest into a 4-year stake and receive a 20% bonus in their stake."})})})};function Y(){var e=(0,c.Z)(),t=e.currentAccount,r=e.loading,l=(0,i.T)().isPermissionsLoading,d=(0,a.Yh)((function(e){return e.trackEvent}));return(0,n.useEffect)((function(){d("Page Viewed",{"Page Name":"Vesting"})}),[d]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(M,{}),(0,w.jsx)(o.O,{children:t&&!l?(0,w.jsx)(_,{}):(0,w.jsx)(s.w,{loading:r})})]})}Y.getLayout=function(e){return(0,w.jsx)(l.Z,{children:e})}},48926:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vesting",function(){return r(70451)}])}},function(e){e.O(0,[3299,9774,2888,179],(function(){return t=48926,e(e.s=t);var t}));var t=e.O();_N_E=t}]);