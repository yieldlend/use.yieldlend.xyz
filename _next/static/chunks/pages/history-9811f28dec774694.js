(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8276],{9074:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return Re}});var t,i=r(67294),s=r(15446),o=r(83550),a=r(49501),c=r(62097),l=r(61225),d=r(30120),u=r(29630),x=r(40535),m=r(74815),h=r(85893),p=function(){var e=(0,c.Z)().breakpoints,n=(0,l.Z)(e.down("md")),r=(0,l.Z)(e.down("xsm"));return(0,h.jsx)(m.f,{pageTitle:(0,h.jsx)(h.Fragment,{}),titleComponent:(0,h.jsxs)(d.Z,{children:[(0,h.jsx)(d.Z,{sx:{display:"flex",alignItems:"center"},children:(0,h.jsx)(u.Z,{variant:"h3",sx:{color:"#A5A8B6"},children:(0,h.jsx)(a.cC,{id:"Transaction history"})})}),(0,h.jsx)(x.V,{withMarketSwitcher:!0}),(0,h.jsx)(d.Z,{sx:{width:n?r?"320px":"540px":"860px"}})]})})},f=r(17674),y=r(50029),j=r(87794),v=r.n(j),g=r(43003),b=r(70918),w=r(90149),Z=r(81645),S=r(75084),C=r(45745),A=r(45556),R=r(8403),k=r(90116),O=r(59403),D=function(e){return void 0!==e.collateralReserve},P=function(e){return void 0!==e.principalReserve},T=function(e){return void 0!==e.reserve};!function(e){e[e.SUPPLY=0]="SUPPLY",e[e.BORROW=1]="BORROW",e[e.WITHDRAW=2]="WITHDRAW",e[e.REPAY=3]="REPAY",e[e.RATECHANGE=4]="RATECHANGE",e[e.COLLATERALCHANGE=5]="COLLATERALCHANGE",e[e.LIQUIDATION=6]="LIQUIDATION"}(t||(t={}));var I=r(16376),U=r(15591),E=function(e){var n,r=e.searchQuery,t=e.filterQuery,i=e.txns;if(r.length>0){var s=r.toLowerCase();n=i.filter((function(e){var n="",r="",t="",i="",o="",a="";D(e)&&(n=e.collateralReserve.symbol.toLowerCase(),t=e.collateralReserve.name.toLowerCase()),P(e)&&(r=e.principalReserve.symbol.toLowerCase(),i=e.principalReserve.name.toLowerCase()),T(e)&&(o=e.reserve.symbol.toLowerCase(),a=e.reserve.name.toLowerCase());var c=a.includes("ether")&&!a.includes("tether")?"ethereum":"";return o.includes(s)||n.includes(s)||r.includes(s)||a.includes(s)||c.includes(s)||t.includes(s)||i.includes(s)}))}else n=i;return t.length>0&&(n=n.filter((function(e){return!!t.includes(function(e){switch(e){case"Deposit":case"Supply":return 0;case"Borrow":return 1;case"RedeemUnderlying":return 2;case"Repay":return 3;case"Swap":case"SwapBorrowRate":return 4;case"UsageAsCollateral":return 5;case"LiquidationCall":return 6;default:return 7}}(e.action))}))),n},N=function(e){var n=e.isFilterActive,r=(0,I.Yh)((function(e){return[e.currentMarketData,e.account]})),t=(0,f.Z)(r,2),s=t[0],o=t[1],a=(0,i.useState)(!1),c=a[0],l=a[1],d=void 0;s.v3||"Ethereum"!==s.marketTitle&&"Ethereum AMM"!==s.marketTitle||(d=s.addresses.LENDING_POOL_ADDRESS_PROVIDER.toLowerCase());var u=function(){var e=(0,y.Z)(v().mark((function e(n){var r,t,i,s,o,a,c,l,d;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.account,t=n.subgraphUrl,i=n.first,s=n.skip,o=n.v3,a=n.pool,"",c={query:o?"\nquery UserTransactions($userAddress: String!, $first: Int!, $skip: Int!) {\n  userTransactions(where: { user: $userAddress }, orderBy: timestamp, orderDirection: desc, first: $first, skip: $skip) {\n    id\n    timestamp\n    txHash\n    action\n    ... on Supply {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on RedeemUnderlying {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on Borrow {\n      amount\n      borrowRateMode\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on UsageAsCollateral {\n      fromState\n      toState\n      reserve {\n        symbol\n        name\n        underlyingAsset\n      }\n    }\n    ... on Repay {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on SwapBorrowRate {\n      borrowRateModeFrom\n      borrowRateModeTo\n      variableBorrowRate\n      stableBorrowRate\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n    }\n    ... on LiquidationCall {\n      collateralAmount\n      collateralReserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      principalAmount\n      principalReserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      collateralAssetPriceUSD\n      borrowAssetPriceUSD\n    }\n  }\n}\n":a?"\nquery UserTransactions($userAddress: String!, $first: Int!, $skip: Int!, $pool: String!) {\n  userTransactions(where: { user: $userAddress, pool: $pool }, orderBy: timestamp, orderDirection: desc, first: $first, skip: $skip) {\n    id\n    timestamp\n    txHash\n    action\n    ... on Deposit {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on RedeemUnderlying {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on Borrow {\n      amount\n      borrowRateMode\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on UsageAsCollateral {\n      fromState\n      toState\n      reserve {\n        symbol\n        name\n        underlyingAsset\n      }\n    }\n    ... on Repay {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on Swap {\n      borrowRateModeFrom\n      borrowRateModeTo\n      variableBorrowRate\n      stableBorrowRate\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n    }\n    ... on LiquidationCall {\n      collateralAmount\n      collateralReserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      principalAmount\n      principalReserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      collateralAssetPriceUSD\n      borrowAssetPriceUSD\n    }\n  }\n}\n":"\nquery UserTransactions($userAddress: String!, $first: Int!, $skip: Int!) {\n  userTransactions(where: { user: $userAddress }, orderBy: timestamp, orderDirection: desc, first: $first, skip: $skip) {\n    id\n    timestamp\n    txHash\n    action\n    ... on Deposit {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on RedeemUnderlying {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on Borrow {\n      amount\n      borrowRateMode\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on UsageAsCollateral {\n      fromState\n      toState\n      reserve {\n        symbol\n        name\n        underlyingAsset\n      }\n    }\n    ... on Repay {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on Swap {\n      borrowRateModeFrom\n      borrowRateModeTo\n      variableBorrowRate\n      stableBorrowRate\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n    }\n    ... on LiquidationCall {\n      collateralAmount\n      collateralReserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      principalAmount\n      principalReserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      collateralAssetPriceUSD\n      borrowAssetPriceUSD\n    }\n  }\n}\n",variables:{userAddress:r,first:i,skip:s,pool:a}},e.prev=4,e.next=7,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 7:if((l=e.sent).ok){e.next=10;break}throw new Error("Network error: ".concat(l.status," - ").concat(l.statusText));case 10:return e.next=12,l.json();case 12:return d=e.sent,e.abrupt("return",d.data.userTransactions||[]);case 16:return e.prev=16,e.t0=e.catch(4),console.error("Error fetching transaction history:",e.t0),e.abrupt("return",[]);case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=(0,y.Z)(v().mark((function e(n){var r,t,i,a,c,l,x,m,h;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.searchQuery,t=n.filterQuery,i=[],c=0,l=a=100;case 5:if(l!==a){e.next=14;break}return e.next=8,u({first:a,skip:c,account:o,subgraphUrl:null!==(x=s.subgraphUrl)&&void 0!==x?x:"",v3:!!s.v3,pool:d});case 8:m=e.sent,l=m.length,i.push.apply(i,(0,k.Z)(m)),c+=a,e.next=5;break;case 14:return h=E({searchQuery:r,filterQuery:t,txns:i}),e.abrupt("return",h);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=(0,O.N)(U.B.transactionHistory(o,s),function(){var e=(0,y.Z)(v().mark((function e(n){var r,t,i,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.pageParam,i=void 0===t?0:t,e.next=3,u({account:o,subgraphUrl:null!==(r=s.subgraphUrl)&&void 0!==r?r:"",first:100,skip:i,v3:!!s.v3,pool:d});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),{enabled:!!o&&!!s.subgraphUrl,getNextPageParam:function(e,n){if(100===e.length)return 100*n.length}}),h=m.data,p=m.fetchNextPage,j=m.hasNextPage,g=m.isLoading,b=m.isFetchingNextPage,w=m.isError,Z=m.error;return(0,i.useEffect)((function(){l(!(!n||!j||b))}),[n,j,b]),(0,i.useEffect)((function(){c&&p()}),[c,p]),{data:h,fetchNextPage:p,isFetchingNextPage:b,hasNextPage:j,isLoading:g,isError:w,error:Z,fetchForDownload:x,subgraphUrl:s.subgraphUrl}},B=r(77537),L=r(57609),F=r(59499),H=r(56371),M=r(32957);function z(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}var _=function(e){var n=e.unixTimestamp,r=new Date(1e3*n),t=r.getHours(),i=(t+24-1)%12+1,s=r.getMinutes(),o=t<12?"AM":"PM",a=String(i).padStart(2,"0"),c=String(s).padStart(2,"0");return"".concat(a,":").concat(c," ").concat(o)},W=function(e,n,r){var t=new Blob([n],{type:r}),i=URL.createObjectURL(t),s=document.createElement("a");s.href=i,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)},Q=function(e){return e.reduce((function(e,n){var r=new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long",day:"numeric"}).format(new Date(1e3*n.timestamp));return e[r]||(e[r]=[]),e[r].push(n),e}),{})},$=function(e){var n,r=e.underlyingAsset,t=e.symbol,i=e.name,s=(0,M.QD)({underlyingAsset:r,symbol:t,name:i});return{underlyingAsset:r,symbol:s.symbol.includes("Amm")?s.iconSymbol.replace(/_/g,""):s.symbol,name:null!==(n=s.name)&&void 0!==n?n:i||"",iconSymbol:s.iconSymbol||""}},Y=function(e){var n=e.data,r=e.csv;return n.map((function(e){var n,t=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?z(Object(r),!0).forEach((function(n){(0,F.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({},e);if(void 0!==(n=e).amount&&void 0!==n.reserve&&(t.amount=(0,H.formatUnits)(e.amount,e.reserve.decimals)),T(e)&&r){var i=JSON.stringify(e.reserve);t.reserve='"'.concat(i.replace(/"/g,'""'),'"')}if(D(e)&&e.collateralAmount&&(t.collateralAmount=(0,H.formatUnits)(e.collateralAmount,e.collateralReserve.decimals),r)){var s=JSON.stringify(e.collateralReserve);t.collateralReserve='"'.concat(s.replace(/"/g,'""'),'"')}if(P(e)&&e.principalAmount&&(t.principalAmount=(0,H.formatUnits)(e.principalAmount,e.principalReserve.decimals),r)){var o=JSON.stringify(e.principalReserve);t.principalReserve='"'.concat(o.replace(/"/g,'""'),'"')}return function(e){return void 0!==e.variableBorrowRate&&void 0!==e.stableBorrowRate}(e)&&(t.variableBorrowRate=(0,H.formatUnits)(e.variableBorrowRate,25)+" %",t.stableBorrowRate=(0,H.formatUnits)(e.stableBorrowRate,25)+" %"),"Deposit"===e.action&&(t.action="Supply"),"Swap"===e.action&&(t.action="SwapBorrowRate"),"RedeemUnderlying"===e.action&&(t.action="Withdraw"),t}))},q=r(33740),G=r(13208),J=r(62026),V=r(73812),X=r(31538),K=r(44373),ee=r(41528),ne=function(e){switch(e.filter){case t.SUPPLY:return(0,h.jsx)(a.cC,{id:"Supply"});case t.BORROW:return(0,h.jsx)(a.cC,{id:"Borrow"});case t.WITHDRAW:return(0,h.jsx)(a.cC,{id:"Withdraw"});case t.REPAY:return(0,h.jsx)(a.cC,{id:"Repay"});case t.RATECHANGE:return(0,h.jsx)(a.cC,{id:"Rate change"});case t.COLLATERALCHANGE:return(0,h.jsx)(a.cC,{id:"Collateral change"});case t.LIQUIDATION:return(0,h.jsx)(a.cC,{id:"Liqudation"})}},re=function(e){var n=e.onFilterChange,r=e.currentFilter,s=(0,i.useState)(null),o=s[0],x=s[1],m=(0,i.useState)(r),p=m[0],f=m[1],y=(0,I.Yh)((function(e){return e.trackEvent}));(0,i.useEffect)((function(){n(p)}),[p,n]);var j=(0,c.Z)(),v=(0,l.Z)(j.breakpoints.down("md")),g=0===r.length,b=function(e){var n=[];void 0!==e&&(r.includes(e)?n=r.filter((function(n){return n!==e})):(y(L.yD.FILTER,{value:e}),(n=[].concat((0,k.Z)(r),[e])).length===Object.keys(t).length/2&&(n=[]))),f(n)},w=function(){if(g)return(0,h.jsx)(a.cC,{id:"All transactions"});var e=r.length-2,n=r.slice(0,2).map((function(e){return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(ne,{filter:e}),e!==r[r.length-1]&&",",e!==r[1]&&" "]},e)}));return(0,h.jsxs)(d.Z,{sx:{display:"flex"},children:[(0,h.jsx)(u.Z,{variant:"description",color:j.palette.primary.main,sx:{mr:1},children:"TXs:"}),n,e>0&&(0,h.jsxs)(i.Fragment,{children:["...(+",e,")"]})]})};return(0,h.jsxs)(d.Z,{children:[(0,h.jsxs)(S.Z,{sx:{minWidth:148,maxWidth:v?"100%":360,display:"flex",justifyContent:"space-between",alignItems:"center",height:36,border:"1px solid",borderColor:"divider",borderRadius:"4px",mr:v?0:2,ml:v?4:0,pl:2,pr:1},onClick:function(e){x(e.currentTarget)},children:[(0,h.jsxs)(d.Z,{display:"flex",alignItems:"center",overflow:"hidden",children:[(0,h.jsx)(Z.Z,{height:9,width:9,color:"primary",children:(0,h.jsx)(G.Z,{})}),(0,h.jsx)(u.Z,{variant:"subheader1",color:"text.primary",sx:{ml:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",mr:1},children:(0,h.jsx)(w,{})})]}),!g&&(0,h.jsx)(ee.y,{title:(0,h.jsx)(u.Z,{variant:"caption",color:"common.white",children:(0,h.jsx)(a.cC,{id:"Reset"})}),children:(0,h.jsx)(d.Z,{sx:{cursor:"pointer",color:"primary",height:"auto",width:"auto",display:"flex",alignItems:"center"},onClick:function(e){y(L.yD.FILTER,{value:"cleared"}),e.stopPropagation(),f([])},children:(0,h.jsx)(q.Z,{color:"#A5A8B6",width:18,height:18})})})]}),(0,h.jsxs)(V.Z,{anchorEl:o,open:Boolean(o),onClose:function(){x(null),n(r)},PaperProps:{sx:{width:280,maxHeight:300,mt:1,boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.2), 0px 2px 10px rgba(0, 0, 0, 0.1)",borderRadius:"4px"}},children:[(0,h.jsxs)(X.Z,{onClick:function(){return b(void 0)},sx:{background:g?j.palette.background.surface:void 0,display:"flex",justifyContent:"space-between"},children:[(0,h.jsx)(u.Z,{variant:"subheader1",color:"text.primary",children:(0,h.jsx)(a.cC,{id:"All transactions"})}),g&&(0,h.jsx)(Z.Z,{sx:{fontSize:"16px"},children:(0,h.jsx)(J.Z,{})})]}),(0,h.jsx)(K.Z,{sx:{mt:1}}),(0,h.jsx)(d.Z,{sx:{overflowY:"scroll",maxHeight:200,scrollbarWidth:"none",msOverflowStyle:"none","::-webkit-scrollbar":{display:"none"}},children:Object.keys(t).filter((function(e){return isNaN(Number(e))})).map((function(e){var n=t[e];return(0,h.jsxs)(X.Z,{onClick:function(){return b(n)},sx:{background:r.includes(n)?j.palette.background.surface:void 0,display:"flex",justifyContent:"space-between"},children:[(0,h.jsx)(u.Z,{variant:"subheader1",color:"text.primary",children:(0,h.jsx)(ne,{filter:n})}),r.includes(n)&&(0,h.jsx)(Z.Z,{sx:{fontSize:"16px"},children:(0,h.jsx)(J.Z,{})})]},e)}))})]})]})},te=r(91655),ie=r(45884),se=r(32383),oe=function(){return(0,h.jsxs)(se.H,{px:6,minHeight:68,children:[(0,h.jsxs)(ie.h,{isRow:!0,maxWidth:280,children:[(0,h.jsx)(te.Z,{variant:"circular",width:24,height:24}),(0,h.jsx)(d.Z,{sx:{pl:6,overflow:"hidden"},children:(0,h.jsx)(te.Z,{width:48,height:14})})]}),(0,h.jsxs)(ie.h,{isRow:!0,align:"center",children:[(0,h.jsx)(te.Z,{width:40,height:12}),(0,h.jsxs)(d.Z,{sx:{pl:5,display:"flex",gap:1,alignItems:"center"},children:[(0,h.jsx)(te.Z,{variant:"circular",width:20,height:20}),(0,h.jsx)(te.Z,{width:64,height:14}),(0,h.jsx)(te.Z,{width:24,height:14})]})]}),(0,h.jsx)(ie.h,{align:"right",children:(0,h.jsxs)(d.Z,{sx:{display:"flex",gap:1},children:[(0,h.jsx)(te.Z,{width:48,height:12}),(0,h.jsx)(te.Z,{width:120,height:12})]})})]})},ae=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(se.H,{px:6,minHeight:68,children:(0,h.jsx)(ie.h,{align:"left",children:(0,h.jsx)(te.Z,{width:140,height:16,sx:{transform:"translateY(8px)"}})})}),(0,h.jsx)(oe,{}),(0,h.jsx)(oe,{}),(0,h.jsx)(oe,{})]})},ce=r(53737),le=r(29894),de=r(61702),ue=function(){return(0,h.jsxs)(se.H,{px:6,minHeight:68,children:[(0,h.jsxs)(ie.h,{isRow:!0,maxWidth:280,children:[(0,h.jsx)(te.Z,{variant:"circular",width:24,height:24}),(0,h.jsx)(d.Z,{sx:{pl:6,overflow:"hidden"},children:(0,h.jsx)(te.Z,{width:48,height:14})})]}),(0,h.jsx)(ie.h,{align:"right",children:(0,h.jsxs)(d.Z,{sx:{display:"flex",gap:1},children:[(0,h.jsx)(te.Z,{width:48,height:12}),(0,h.jsx)(te.Z,{width:120,height:12})]})})]})},xe=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(se.H,{px:6,minHeight:68,children:(0,h.jsx)(ie.h,{align:"left",children:(0,h.jsx)(te.Z,{width:80,height:16,sx:{transform:"translateY(8px)"}})})}),(0,h.jsx)(ue,{}),(0,h.jsx)(ue,{}),(0,h.jsx)(ue,{})]})},me=r(12079),he=r(76384),pe=r(41024),fe=r(72667),ye=function(e){var n=e.swapBorrowRateTx,r=e.borrowRateMode;return"Variable"===r||"2"===r?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.Z,{variant:"description",color:"text.primary",pr:.5,children:(0,h.jsx)(a.cC,{id:"Variable"})}),(0,h.jsxs)(u.Z,{variant:"secondary14",color:"text.primary",pr:.5,children:[Number((0,H.formatUnits)(n.variableBorrowRate,25)).toFixed(2),"%"]}),(0,h.jsx)(u.Z,{variant:"description",color:"text.primary",children:(0,h.jsx)(a.cC,{id:"APY"})})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.Z,{variant:"description",color:"text.primary",pr:.5,children:(0,h.jsx)(a.cC,{id:"Stable"})}),(0,h.jsxs)(u.Z,{variant:"secondary14",color:"text.primary",pr:.5,children:[Number((0,H.formatUnits)(n.stableBorrowRate,25)).toFixed(2),"%"]}),(0,h.jsx)(u.Z,{variant:"description",color:"text.primary",children:(0,h.jsx)(a.cC,{id:"APY"})})]})},je=function(e){var n=e.value;return n>0?(0,h.jsx)(pe.B,{compact:!0,compactThreshold:1e5,symbol:"USD",symbolsColor:"common.white",value:n}):(0,h.jsx)(d.Z,{sx:{textAlign:"center",mb:1},children:(0,h.jsx)(a.cC,{id:"Price data is not currently available for this reserve on the protocol subgraph"})})},ve=function(e){switch(e.action){case"Supply":case"Deposit":return(0,h.jsx)(a.cC,{id:"Supply"});case"Borrow":return(0,h.jsx)(a.cC,{id:"Borrow"});case"RedeemUnderlying":return(0,h.jsx)(a.cC,{id:"Withdraw"});case"Repay":return(0,h.jsx)(a.cC,{id:"Repay"});case"UsageAsCollateral":return(0,h.jsx)(a.cC,{id:"Collateral usage"});case"SwapBorrowRate":case"Swap":return(0,h.jsx)(a.cC,{id:"Borrow rate change"});case"LiquidationCall":return(0,h.jsx)(a.cC,{id:"Liquidation"});default:return(0,h.jsx)(h.Fragment,{})}},ge=function(e){var n=e.transaction,r=e.iconSize;switch(n.action){case"Supply":case"Deposit":var t=n,i=$(t.reserve),s=(0,H.formatUnits)(t.amount,t.reserve.decimals);return(0,h.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,h.jsx)(fe.T1,{symbol:i.iconSymbol,sx:{fontSize:r}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{ml:i.iconSymbol.split("_").length>1?3:1,mb:.5},children:"+"}),(0,h.jsx)(ee.y,{wrap:!0,title:(0,h.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)(je,{value:Number(t.assetPriceUSD)*Number(s)}),(0,h.jsxs)(d.Z,{sx:{display:"flex"},children:[(0,h.jsx)(pe.B,{value:s,variant:"secondary14",color:"common.white",sx:{mr:1}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"common.white",children:i.symbol})]})]}),arrow:!0,placement:"top",children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(pe.B,{value:s,variant:"secondary14",color:"text.primary",compact:!0,compactThreshold:1e5,sx:{mr:1}})})}),(0,h.jsx)(ee.y,{title:(0,h.jsxs)(u.Z,{variant:"secondary14",color:"common.white",children:[i.name," (",i.symbol,")"]}),arrow:!0,placement:"top",children:(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",children:i.symbol})})]});case"Borrow":var o=n,c=$(o.reserve),l=(0,H.formatUnits)(o.amount,o.reserve.decimals);return(0,h.jsxs)(d.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,h.jsx)(fe.T1,{symbol:c.iconSymbol,sx:{fontSIze:r}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{ml:c.iconSymbol.split("_").length>1?3:1,mb:.5},children:"\u2212"}),(0,h.jsx)(ee.y,{wrap:!0,title:(0,h.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)(je,{value:Number(o.assetPriceUSD)*Number(l)}),(0,h.jsxs)(d.Z,{sx:{display:"flex"},children:[(0,h.jsx)(pe.B,{value:l,variant:"secondary14",color:"common.white",sx:{mr:1}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"common.white",children:c.symbol})]})]}),arrow:!0,placement:"top",children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(pe.B,{value:l,variant:"secondary14",color:"text.primary",sx:{mr:1},compact:!0,compactThreshold:1e5})})}),(0,h.jsx)(ee.y,{title:(0,h.jsxs)(u.Z,{variant:"secondary14",color:"common.white",children:[c.name," (",c.symbol,")"]}),arrow:!0,placement:"top",children:(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",children:c.symbol})})]});case"RedeemUnderlying":var x=n,m=$(x.reserve),p=(0,H.formatUnits)(x.amount,x.reserve.decimals);return(0,h.jsxs)(d.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,h.jsx)(fe.T1,{symbol:m.iconSymbol,sx:{fontSIze:r}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{ml:m.iconSymbol.split("_").length>1?3:1,mb:.5},children:"\u2212"}),(0,h.jsx)(ee.y,{wrap:!0,title:(0,h.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)(je,{value:Number(x.assetPriceUSD)*Number(p)}),(0,h.jsxs)(d.Z,{sx:{display:"flex"},children:[(0,h.jsx)(pe.B,{value:p,variant:"secondary14",color:"common.white",sx:{mr:1}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"common.white",children:m.symbol})]})]}),arrow:!0,placement:"top",children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(pe.B,{value:p,variant:"secondary14",color:"text.primary",sx:{mr:1},compact:!0,compactThreshold:1e5})})}),(0,h.jsx)(ee.y,{title:(0,h.jsxs)(u.Z,{variant:"secondary14",color:"common.white",children:[m.name," (",m.symbol,")"]}),arrow:!0,placement:"top",children:(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",children:m.symbol})})]});case"Repay":var f=n,y=$(f.reserve),j=(0,H.formatUnits)(f.amount,f.reserve.decimals);return(0,h.jsxs)(d.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,h.jsx)(fe.T1,{symbol:y.iconSymbol,sx:{fontSIze:r}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{ml:y.iconSymbol.split("_").length>1?3:1,mb:.5},children:"+"}),(0,h.jsx)(ee.y,{wrap:!0,title:(0,h.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)(je,{value:Number(f.assetPriceUSD)*Number(j)}),(0,h.jsxs)(d.Z,{sx:{display:"flex"},children:[(0,h.jsx)(pe.B,{value:j,variant:"secondary14",color:"common.white",sx:{mr:1}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"common.white",children:y.symbol})]})]}),arrow:!0,placement:"top",children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(pe.B,{value:j,variant:"secondary14",color:"text.primary",sx:{mr:1},compact:!0,compactThreshold:1e5})})}),(0,h.jsx)(ee.y,{title:(0,h.jsxs)(u.Z,{variant:"secondary14",color:"common.white",children:[y.name," (",y.symbol,")"]}),arrow:!0,placement:"top",children:(0,h.jsx)(u.Z,{variant:"secondary14",color:"sucess.main",children:y.symbol})})]});case"UsageAsCollateral":var v=n,g=$(v.reserve);return(0,h.jsxs)(d.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,h.jsx)(u.Z,{variant:"description",color:"text.primary",children:(0,h.jsx)(a.cC,{id:"Collateralization"})}),!0===v.toState?(0,h.jsx)(u.Z,{variant:"subheader1",color:"success.main",sx:{px:.75},children:(0,h.jsx)(a.cC,{id:"enabled"})}):(0,h.jsx)(u.Z,{variant:"subheader1",color:"error.main",sx:{px:.75},children:(0,h.jsx)(a.cC,{id:"disabled"})}),(0,h.jsx)(u.Z,{variant:"description",color:"text.primary",sx:{mr:.5},children:(0,h.jsx)(a.cC,{id:"for"})}),(0,h.jsx)(fe.T1,{symbol:g.iconSymbol,sx:{fontSIze:r}}),(0,h.jsx)(ee.y,{title:(0,h.jsxs)(u.Z,{variant:"secondary14",color:"common.white",children:[g.name," (",g.symbol,")"]}),arrow:!0,placement:"top",children:(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{ml:g.iconSymbol.split("_").length>1?3:1},children:g.symbol})})]});case"SwapBorrowRate":case"Swap":var b=n,w=$(b.reserve);return(0,h.jsxs)(d.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,h.jsx)(ye,{borrowRateMode:b.borrowRateModeFrom.toString(),swapBorrowRateTx:b}),(0,h.jsx)(Z.Z,{sx:{fontSize:"20px",px:1},children:(0,h.jsx)(he.Z,{})}),(0,h.jsx)(ye,{borrowRateMode:b.borrowRateModeTo.toString(),swapBorrowRateTx:b}),(0,h.jsx)(u.Z,{variant:"caption",color:"text.secondary",px:2,children:(0,h.jsx)(a.cC,{id:"for"})}),(0,h.jsx)(fe.T1,{symbol:w.iconSymbol,sx:{fontSIze:r}}),(0,h.jsx)(ee.y,{title:(0,h.jsxs)(u.Z,{variant:"secondary14",color:"common.white",children:[w.name," (",w.symbol,")"]}),arrow:!0,placement:"top",children:(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{ml:w.iconSymbol.split("_").length>1?3:1},children:b.reserve.symbol})})]});case"LiquidationCall":var S=n,C=$(S.collateralReserve),A=$(S.principalReserve),R=(0,H.formatUnits)(S.collateralAmount,S.collateralReserve.decimals),k=(0,H.formatUnits)(S.principalAmount,S.principalReserve.decimals);return(0,h.jsxs)(d.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,h.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column"},pr:4.5,children:[(0,h.jsx)(u.Z,{children:(0,h.jsx)(a.cC,{id:"Liquidated collateral"})}),(0,h.jsxs)(d.Z,{sx:{display:"inline-flex"},children:[(0,h.jsx)(fe.T1,{symbol:C.iconSymbol,sx:{fontSIze:r,pr:.5}}),(0,h.jsxs)(d.Z,{sx:{ml:C.iconSymbol.split("_").length>1?3:1,display:"inline-flex"},children:[(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{display:"inline-flex",mb:.5},children:"\u2212"}),(0,h.jsx)(ee.y,{wrap:!0,title:(0,h.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)(je,{value:Number(S.collateralAssetPriceUSD)*Number(R)}),(0,h.jsxs)(d.Z,{sx:{display:"flex"},children:[(0,h.jsx)(pe.B,{value:R,variant:"secondary14",color:"common.white",sx:{mr:1}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"common.white",children:C.symbol})]})]}),arrow:!0,placement:"top",children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(pe.B,{value:R,variant:"secondary14",color:"text.primary",sx:{mr:1},compact:!0,compactThreshold:1e5})})}),(0,h.jsx)(ee.y,{title:(0,h.jsxs)(u.Z,{variant:"secondary14",color:"common.white",children:[C.name," (",C.symbol,")"]}),arrow:!0,placement:"top",children:(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{display:"inline-flex"},children:C.symbol})})]})]})]}),(0,h.jsx)(Z.Z,{sx:{fontSize:"14px"},children:(0,h.jsx)(he.Z,{})}),(0,h.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column"},pl:4.5,children:[(0,h.jsx)(u.Z,{children:(0,h.jsx)(a.cC,{id:"Covered debt"})}),(0,h.jsxs)(d.Z,{sx:{display:"inline-flex"},children:[(0,h.jsx)(fe.T1,{symbol:A.iconSymbol,sx:{fontSIze:r,pr:.5}}),(0,h.jsxs)(d.Z,{sx:{ml:A.iconSymbol.split("_").length>1?3:1,display:"inline-flex"},children:[(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{display:"inline-flex",mb:.5},children:"+"}),(0,h.jsx)(ee.y,{wrap:!0,title:(0,h.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)(je,{value:Number(S.borrowAssetPriceUSD)*Number(k)}),(0,h.jsxs)(d.Z,{sx:{display:"flex"},children:[(0,h.jsx)(pe.B,{value:k,variant:"secondary14",color:"common.white",sx:{mr:1}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"common.white",children:A.symbol})]})]}),arrow:!0,placement:"top",children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(pe.B,{value:k,variant:"secondary14",color:"text.primary",sx:{mr:1},compact:!0,compactThreshold:1e5})})}),(0,h.jsx)(ee.y,{title:(0,h.jsxs)(u.Z,{variant:"secondary14",color:"common.white",children:[A.name," (",A.symbol,")"]}),arrow:!0,placement:"top",children:(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{display:"inline-flex"},children:A.symbol})})]})]})]})]});default:return(0,h.jsx)(h.Fragment,{})}};function be(e){var n=e.action;return(0,h.jsx)(u.Z,{variant:"subheader2",color:"text.muted",children:(0,h.jsx)(ve,{action:n})})}var we=function(e){var n=e.transaction,r=(0,i.useState)(!1),t=r[0],s=r[1],o=(0,I.Yh)((function(e){return{currentNetworkConfig:e.currentNetworkConfig,trackEvent:e.trackEvent}})),l=o.currentNetworkConfig,x=o.trackEvent,m=(0,c.Z)();(0,i.useEffect)((function(){if(t){var e=setTimeout((function(){s(!1)}),1e3);return function(){clearTimeout(e)}}}),[t]);var p=l.explorerLinkBuilder({tx:n.txHash});return(0,h.jsx)(d.Z,{children:(0,h.jsx)(se.H,{px:4,sx:{borderWidth:"1px 0 0 0",borderStyle:"solid",borderColor:"".concat(m.palette.divider)},children:(0,h.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"left",width:"100%"},children:[(0,h.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",pt:"14px"},children:[(0,h.jsx)(d.Z,{sx:{display:"flex",gap:2},children:(0,h.jsx)(be,{action:n.action})}),(0,h.jsxs)(d.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[" ",(0,h.jsx)(u.Z,{variant:"caption",color:"text.muted",children:_({unixTimestamp:n.timestamp})}),(0,h.jsxs)(S.Z,{sx:{display:"flex",ml:3,mr:1,width:"69px",height:"20px",fontSize:"0.6rem",alignItems:"center",justifyContent:"center",pl:1,pr:1},variant:"outlined",href:p,target:"_blank",onClick:function(){return x(L.vh.EXTERNAL_LINK,{funnel:"TxHistoy",Link:"Etherscan"})},children:[(0,h.jsx)(a.cC,{id:"VIEW TX"})," ",(0,h.jsx)(Z.Z,{sx:{fontSize:"15px",pl:1,pb:.5},children:(0,h.jsx)(me.Z,{})})]})]})]}),(0,h.jsx)(d.Z,{sx:{py:"28px"},children:(0,h.jsx)(ge,{transaction:n,iconSize:"24px"})})]})})})},Ze=function(){var e=(0,i.useState)(""),n=e[0],r=e[1],t=(0,i.useState)(!1),s=t[0],o=t[1],c=(0,i.useState)([]),l=c[0],x=c[1],m=(0,i.useState)(!1),p=m[0],j=m[1],b=i.useState(null),C=(0,f.Z)(b,2),k=C[0],O=C[1],D=(0,i.useState)(0),P=D[0],T=D[1],I=function(){O(null)},U=function(){j(!1),r("")},B=(0,i.useRef)(null),L=function(e){B.current&&!B.current.contains(e.target)&&""===n&&p&&U()};(0,i.useEffect)((function(){return document.addEventListener("mousedown",L),function(){document.removeEventListener("mousedown",L)}}),[n,p]);var F=n.length>0||l.length>0,H=N({isFilterActive:F}),M=H.data,z=H.isLoading,_=H.fetchNextPage,$=H.isFetchingNextPage,q=H.fetchForDownload,G=function(){var e=(0,y.Z)(v().mark((function e(){var r,t,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,q({searchQuery:n,filterQuery:l});case 3:r=e.sent,t=Y({data:r,csv:!1}),i=JSON.stringify(t,null,2),W("transactions.json",i,"application/json"),o(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,y.Z)(v().mark((function e(){var r,t,i,s,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,q({searchQuery:n,filterQuery:l});case 3:r=e.sent,t=Y({data:r,csv:!0}),i=new Set,t.forEach((function(e){Object.keys(e).forEach((function(e){return i.add(e)}))})),s=Array.from(i),a=s.join(",")+"\n",t.forEach((function(e){var n=s.map((function(n){var r,t,i=e[n];return"object"===typeof i?null!==(t=JSON.stringify(i))&&void 0!==t?t:"":null!==(r=String(i))&&void 0!==r?r:""}));a+=n.join(",")+"\n"})),W("transactions.csv",a,"text/csv"),o(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=(0,i.useRef)(null),ee=(0,i.useCallback)((function(e){z||(K.current&&K.current.disconnect(),K.current=new IntersectionObserver((function(e){e[0].isIntersecting&&_()})),e&&K.current.observe(e))}),[_,z]),ne=(0,i.useMemo)((function(){var e;return(null===M||void 0===M||null===(e=M.pages)||void 0===e?void 0:e.flatMap((function(e){return e})))||[]}),[M]),te=(0,i.useMemo)((function(){return E({searchQuery:n,filterQuery:l,txns:ne})}),[n,l,ne]),ie=0===te.length,se=""!==n||l.length>0;return(0,h.jsxs)(A.l,{wrapperSx:p?{px:4}:void 0,titleComponent:(0,h.jsxs)(d.Z,{ref:B,sx:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[!p&&(0,h.jsx)(u.Z,{component:"div",variant:"h2",sx:{mr:4,height:"36px"},children:(0,h.jsx)(a.cC,{id:"Transactions"})}),!p&&(0,h.jsxs)(d.Z,{sx:{display:"flex",gap:"22px"},children:[s&&(0,h.jsx)(w.Z,{size:20,sx:{mr:2},color:"inherit"}),(0,h.jsx)(d.Z,{onClick:function(e){O(e.currentTarget)},sx:{cursor:"pointer"},children:(0,h.jsx)(Z.Z,{children:(0,h.jsx)(g.Z,{width:20,height:20})})}),(0,h.jsxs)(V.Z,{anchorEl:k,open:Boolean(k),onClose:I,children:[(0,h.jsx)(u.Z,{variant:"subheader2",color:"text.secondary",sx:{mx:4,my:3},children:(0,h.jsx)(a.cC,{id:"Export data to"})}),(0,h.jsxs)(X.Z,{onClick:function(){G(),I()},children:[(0,h.jsx)(le.Z,{children:(0,h.jsx)(Z.Z,{children:(0,h.jsx)(g.Z,{width:22,height:22})})}),(0,h.jsx)(de.Z,{primaryTypographyProps:{variant:"subheader1"},children:(0,h.jsx)(a.cC,{id:".JSON"})})]}),(0,h.jsxs)(X.Z,{onClick:function(){J(),I()},children:[(0,h.jsx)(le.Z,{children:(0,h.jsx)(Z.Z,{children:(0,h.jsx)(g.Z,{width:22,height:22})})}),(0,h.jsx)(de.Z,{primaryTypographyProps:{variant:"subheader1"},children:(0,h.jsx)(a.cC,{id:".CSV"})})]})]}),(0,h.jsx)(d.Z,{onClick:function(){return j(!0)},children:(0,h.jsx)(Z.Z,{sx:{cursor:"pointer"},children:(0,h.jsx)(ce.Z,{width:20,height:20})})})]}),p&&(0,h.jsxs)(d.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between",px:0},children:[(0,h.jsx)(R.M,{wrapperSx:{width:"320px"},placeholder:"Search assets...",onSearchTermChange:r},P),(0,h.jsx)(S.Z,{onClick:function(){return U()},children:(0,h.jsx)(u.Z,{variant:"buttonM",children:(0,h.jsx)(a.cC,{id:"Cancel"})})})]})]}),children:[(0,h.jsx)(re,{onFilterChange:x,currentFilter:l}),z?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(xe,{}),(0,h.jsx)(xe,{})]}):ie?se?(0,h.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",flex:1,maxWidth:"468px",margin:"0 auto",my:24},children:[(0,h.jsx)(u.Z,{variant:"h3",color:"text.primary",children:(0,h.jsx)(a.cC,{id:"Nothing found"})}),(0,h.jsx)(u.Z,{sx:{mt:1,mb:4},variant:"description",color:"text.secondary",children:(0,h.jsx)(a.cC,{id:"We couldn't find any transactions related to your search. Try again with a different asset name, or reset filters."})}),(0,h.jsx)(S.Z,{variant:"outlined",onClick:function(){r(""),x([]),T((function(e){return e+1}))},children:"Reset Filters"})]}):$?(0,h.jsx)(h.Fragment,{}):(0,h.jsx)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,flex:1},children:(0,h.jsx)(u.Z,{sx:{my:24},variant:"h3",color:"text.primary",children:(0,h.jsx)(a.cC,{id:"No transactions yet."})})}):Object.entries(Q(te)).map((function(e,n){var r=(0,f.Z)(e,2),t=r[0],s=r[1];return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(u.Z,{variant:"h4",color:"text.primary",sx:{ml:4,mt:6,mb:2},children:t}),s.map((function(e,n){var r=n===s.length-1;return(0,h.jsx)("div",{ref:r?ee:null,children:(0,h.jsx)(we,{transaction:e})},n)}))]},n)})),(0,h.jsx)(d.Z,{sx:{display:"flex",justifyContent:"center",mb:$?6:0,mt:10},children:$&&(0,h.jsx)(d.Z,{sx:{height:36,width:186,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,h.jsx)(w.Z,{size:20,style:{color:"#535047"}})})})]})};function Se(e){var n=e.action;return(0,h.jsx)(u.Z,{sx:{width:"180px"},children:(0,h.jsx)(ve,{action:n})})}var Ce=function(e){var n=e.transaction,r=(0,i.useState)(!1),t=r[0],s=r[1],o=(0,I.Yh)((function(e){return{currentNetworkConfig:e.currentNetworkConfig,trackEvent:e.trackEvent}})),x=o.currentNetworkConfig,m=o.trackEvent,p=(0,c.Z)(),f=(0,l.Z)(p.breakpoints.down("md"));(0,i.useEffect)((function(){if(t){var e=setTimeout((function(){s(!1)}),1e3);return function(){clearTimeout(e)}}}),[t]);var y=x.explorerLinkBuilder({tx:n.txHash});return(0,h.jsx)(d.Z,{px:6,children:(0,h.jsxs)(se.H,{px:3,sx:{borderWidth:"1px 0 0 0",borderStyle:"solid",borderColor:"".concat(p.palette.divider),height:"72px"},children:[(0,h.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"left",gap:"4px",mr:6},children:[(0,h.jsx)(Se,{action:n.action}),(0,h.jsx)(u.Z,{variant:"caption",color:"text.muted",children:_({unixTimestamp:n.timestamp})})]}),(0,h.jsx)(d.Z,{children:(0,h.jsx)(ge,{transaction:n,iconSize:"20px"})}),(0,h.jsx)(ie.h,{align:"right",children:(0,h.jsx)(d.Z,{sx:{display:"inline-flex",alignItems:"center"},children:!f&&(0,h.jsxs)(S.Z,{variant:"outlined",href:y,target:"_blank",onClick:function(){return m(L.vh.EXTERNAL_LINK,{funnel:"TxHistoy",Link:"Etherscan"})},children:[(0,h.jsx)(a.cC,{id:"View"})," ",(0,h.jsx)(Z.Z,{sx:{marginLeft:"5px",fontSize:"20px",color:"text.secondary"},children:(0,h.jsx)(me.Z,{})})]})})})]})})},Ae=function(){var e=(0,i.useState)(""),n=e[0],r=e[1],t=(0,i.useState)(!1),s=t[0],o=t[1],x=(0,i.useState)([]),m=x[0],p=x[1],j=(0,i.useState)(0),k=j[0],O=j[1],D=n.length>0||m.length>0,P=(0,I.Yh)((function(e){return e.trackEvent})),T=N({isFilterActive:D}),U=T.data,F=T.isLoading,H=T.fetchNextPage,M=T.isFetchingNextPage,z=T.fetchForDownload,_=T.subgraphUrl,$=function(){var e=(0,y.Z)(v().mark((function e(){var r,t,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(L.yD.DOWNLOAD,{type:"JSON"}),o(!0),e.next=4,z({searchQuery:n,filterQuery:m});case 4:r=e.sent,t=Y({data:r,csv:!1}),i=JSON.stringify(t,null,2),W("transactions.json",i,"application/json"),o(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,y.Z)(v().mark((function e(){var r,t,i,s,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(L.yD.DOWNLOAD,{type:"CSV"}),o(!0),e.next=4,z({searchQuery:n,filterQuery:m});case 4:r=e.sent,t=Y({data:r,csv:!0}),i=new Set,t.forEach((function(e){Object.keys(e).forEach((function(e){return i.add(e)}))})),s=Array.from(i),a=s.join(",")+"\n",t.forEach((function(e){var n=s.map((function(n){var r,t,i=e[n];return"object"===typeof i?null!==(t=JSON.stringify(i))&&void 0!==t?t:"":null!==(r=String(i))&&void 0!==r?r:""}));a+=n.join(",")+"\n"})),W("transactions.csv",a,"text/csv"),o(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=(0,i.useRef)(null),J=(0,i.useCallback)((function(e){F||(G.current&&G.current.disconnect(),G.current=new IntersectionObserver((function(e){e[0].isIntersecting&&H()})),e&&G.current.observe(e))}),[H,F]),V=(0,c.Z)(),X=(0,l.Z)(V.breakpoints.down("md")),K=(0,B.Z)(),ee=K.currentAccount,ne=K.loading,te=(0,i.useMemo)((function(){var e;return(null===U||void 0===U||null===(e=U.pages)||void 0===e?void 0:e.flatMap((function(e){return e})))||[]}),[U]),ie=(0,i.useMemo)((function(){return E({searchQuery:n,filterQuery:m,txns:te})}),[n,m,te]);if(!_)return(0,h.jsx)(b.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,flex:1},children:(0,h.jsx)(u.Z,{variant:X?"h4":"h3",children:(0,h.jsx)(a.cC,{id:"Transaction history is not currently available for this market"})})});if(!ee)return(0,h.jsx)(C.w,{loading:ne,description:(0,h.jsx)(a.cC,{id:"Please connect your wallet to view transaction history."})});if(X)return(0,h.jsx)(Ze,{});var se=0===ie.length,oe=""!==n||m.length>0;return(0,h.jsxs)(A.l,{titleComponent:(0,h.jsx)(u.Z,{component:"div",variant:"h2",sx:{mr:4},children:(0,h.jsx)(a.cC,{id:"Transactions"})}),children:[(0,h.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"space-between",mx:8,mt:6,mb:4},children:[(0,h.jsxs)(d.Z,{sx:{display:"inline-flex"},children:[(0,h.jsx)(re,{onFilterChange:p,currentFilter:m}),(0,h.jsx)(R.M,{onSearchTermChange:r,placeholder:"Search assets...",wrapperSx:{width:"280px"}},k)]}),(0,h.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",height:36,gap:.5},children:[s&&(0,h.jsx)(w.Z,{size:16,sx:{mr:2},color:"inherit"}),(0,h.jsxs)(d.Z,{sx:{cursor:"pointer",color:"primary",height:"auto",width:"auto",display:"flex",alignItems:"center",mr:6},onClick:q,children:[(0,h.jsx)(Z.Z,{children:(0,h.jsx)(g.Z,{width:22,height:22})}),(0,h.jsx)(u.Z,{variant:"buttonM",color:"text.primary",children:(0,h.jsx)(a.cC,{id:".CSV"})})]}),(0,h.jsxs)(d.Z,{sx:{cursor:"pointer",color:"primary",height:"auto",width:"auto",display:"flex",alignItems:"center"},onClick:$,children:[(0,h.jsx)(Z.Z,{children:(0,h.jsx)(g.Z,{width:22,height:22})}),(0,h.jsx)(u.Z,{variant:"buttonM",color:"text.primary",children:(0,h.jsx)(a.cC,{id:".JSON"})})]})]})]}),F?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ae,{}),(0,h.jsx)(ae,{})]}):se?oe?(0,h.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,flex:1,maxWidth:"468px",margin:"0 auto",my:24},children:[(0,h.jsx)(u.Z,{variant:"h3",color:"text.primary",children:(0,h.jsx)(a.cC,{id:"Nothing found"})}),(0,h.jsx)(u.Z,{sx:{mt:1,mb:4},variant:"description",color:"text.secondary",children:(0,h.jsx)(a.cC,{id:"We couldn't find any transactions related to your search. Try again with a different asset name, or reset filters."})}),(0,h.jsx)(S.Z,{variant:"outlined",onClick:function(){r(""),p([]),O((function(e){return e+1}))},children:"Reset Filters"})]}):M?(0,h.jsx)(h.Fragment,{}):(0,h.jsx)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,flex:1},children:(0,h.jsx)(u.Z,{sx:{my:24},variant:"h3",color:"text.primary",children:(0,h.jsx)(a.cC,{id:"No transactions yet."})})}):Object.entries(Q(ie)).map((function(e,n){var r=(0,f.Z)(e,2),t=r[0],s=r[1];return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(u.Z,{variant:"h4",color:"text.primary",sx:{ml:9,mt:6,mb:2},children:t}),s.map((function(e,n){var r=n===s.length-1;return(0,h.jsx)("div",{ref:r?J:null,children:(0,h.jsx)(Ce,{transaction:e})},n)}))]},n)})),(0,h.jsx)(d.Z,{sx:{display:"flex",justifyContent:"center",mb:M?6:0,mt:10},children:M&&(0,h.jsx)(d.Z,{sx:{height:36,width:186,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,h.jsx)(w.Z,{size:20,style:{color:"#535047"}})})})]})};function Re(){var e=(0,I.Yh)((function(e){return e.trackEvent}));return(0,i.useEffect)((function(){e("Page Viewed",{"Page Name":"History"})}),[e]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p,{}),(0,h.jsx)(s.O,{children:(0,h.jsx)(Ae,{})})]})}Re.getLayout=function(e){return(0,h.jsx)(o.Z,{children:e})}},8403:function(e,n,r){"use strict";r.d(n,{M:function(){return f}});var t=r(59499),i=r(53737),s=r(33740),o=r(62097),a=r(61225),c=r(30120),l=r(81011),d=r(80562),u=r(23279),x=r.n(u),m=r(67294),h=r(85893);function p(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}var f=function(e){var n=e.onSearchTermChange,r=e.wrapperSx,u=e.placeholder,f=(0,m.useRef)(null),y=(0,m.useState)(""),j=y[0],v=y[1],g=(0,o.Z)().breakpoints,b=(0,a.Z)(g.down("sm")),w=(0,m.useMemo)((function(){return x()((function(e){n(e)}),300)}),[n]);return(0,h.jsxs)(c.Z,{sx:function(e){return function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({display:"flex",alignItems:"center",gap:2,border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",height:"36px"},r)},children:[(0,h.jsx)(c.Z,{sx:{ml:2,mt:1},children:(0,h.jsx)(i.Z,{height:16})}),(0,h.jsx)(l.ZP,{autoFocus:b,inputRef:f,sx:{width:"100%",fontSize:{xs:16,sm:14}},placeholder:u,value:j,onChange:function(e){v(e.target.value),w(e.target.value)}}),(0,h.jsx)(d.Z,{sx:{p:0,mr:2,visibility:j?"visible":"hidden"},onClick:function(){return function(){var e;v(""),n(""),null===(e=f.current)||void 0===e||e.focus()}()},children:(0,h.jsx)(s.Z,{height:16})})]})}},45884:function(e,n,r){"use strict";r.d(n,{h:function(){return s}});var t=r(30120),i=r(85893),s=function(e){var n=e.isRow,r=e.children,s=e.minWidth,o=e.maxWidth,a=e.align,c=void 0===a?"center":a,l=e.overFlow,d=void 0===l?"visible":l,u=e.flex,x=void 0===u?1:u,m=e.p,h=void 0===m?1:m;return(0,i.jsx)(t.Z,{sx:{display:"flex",flexDirection:n?"row":"column",alignItems:n?"center":"left"===c?"flex-start":"right"===c?"flex-end":c,justifyContent:n?"flex-start":"flex-end",flex:x,minWidth:s||"70px",maxWidth:o,overflow:d,padding:h},children:r})}},32383:function(e,n,r){"use strict";r.d(n,{H:function(){return d}});var t=r(59499),i=r(4730),s=r(30120),o=r(85893),a=["children","minHeight","px","button"];function c(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function l(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var d=function(e){var n=e.children,r=e.minHeight,t=void 0===r?71:r,c=e.px,d=void 0===c?4:c,u=e.button,x=(0,i.Z)(e,a);return(0,o.jsx)(s.Z,l(l({},x),{},{sx:l(l({display:"flex",alignItems:"center",minHeight:t,px:d,"&:not(:last-child)":{}},u?{"&:hover":{bgcolor:"action.hover"}}:{}),x.sx),children:n}))}},72667:function(e,n,r){"use strict";r.d(n,{Js:function(){return f},T1:function(){return g}});var t=r(83618),i=r(59499),s=r(4730),o=r(89722),a=r(30120),c=r(60082),l=r(67294),d=r(85893),u=["symbol","aToken"],x=["symbols","badgeSymbol"],m=["symbol"];function h(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function p(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(Object(r),!0).forEach((function(n){(0,i.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function f(e){var n=e.symbol,r=e.onImageGenerated,t=e.aToken,i=(0,l.useRef)(null),s=(0,l.useRef)(null),o=(0,l.useState)(!0),a=o[0],c=o[1];return(0,l.useEffect)((function(){var e;if(!a&&i.current&&null!==(e=i.current)&&void 0!==e&&e.contentDocument)if(t){var n,o,c,l,d=null===(n=i.current)||void 0===n||null===(o=n.contentDocument)||void 0===o||null===(c=o.childNodes)||void 0===c?void 0:c[0],u=d.getAttribute("width"),x=d.getAttribute("height"),m=d.getAttribute("viewBox");d.setAttribute("x",25),d.setAttribute("width",206),d.setAttribute("y",25),d.setAttribute("height",206),m||d.setAttribute("viewBox","0 0 ".concat(u," ").concat(x)),null===(l=s.current)||void 0===l||l.appendChild(d);var h=(new XMLSerializer).serializeToString(s.current);r("data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(h)))))}else{var p,f=(new XMLSerializer).serializeToString(null===(p=i.current)||void 0===p?void 0:p.contentDocument);r("data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(f)))))}}),[a,t]),(0,d.jsxs)("div",{style:{visibility:"hidden",height:0,width:0,overflow:"hidden"},children:[(0,d.jsx)("object",{style:{opacity:1},ref:i,id:"svg",data:"/icons/tokens/".concat(n.toLowerCase(),".svg"),onLoad:function(){return c(!1)}}),t&&(0,d.jsx)(y,{ref:s})]})}var y=(0,l.forwardRef)((function(e,n){var r=e.symbol;return(0,d.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:n,id:"Group_30952",width:"256",height:"256",viewBox:"0 0 256 256",children:[(0,d.jsxs)("defs",{id:"defs10",children:[(0,d.jsxs)("linearGradient",{id:"linear-gradient",x1:".843",x2:".206",y1:".135",y2:".886",gradientUnits:"objectBoundingBox",children:[(0,d.jsx)("stop",{offset:"0",stopColor:"#b6509e",id:"stop2"}),(0,d.jsx)("stop",{offset:"1",stopColor:"#2ebac6",id:"stop4"})]}),(0,d.jsx)("linearGradient",{id:"linear-gradient-2",x1:".907",x2:".163",y1:".227",y2:".853"})]}),(0,d.jsxs)("g",{id:"Group_29109",children:[(0,d.jsx)("path",{id:"Subtraction_108",fill:"url(#linear-gradient)",d:"M128 256a128.976 128.976 0 0 1-25.8-2.6 127.309 127.309 0 0 1-45.77-19.261 128.366 128.366 0 0 1-46.375-56.315A127.357 127.357 0 0 1 2.6 153.8a129.251 129.251 0 0 1 0-51.593 127.31 127.31 0 0 1 19.26-45.77 128.372 128.372 0 0 1 56.317-46.378A127.33 127.33 0 0 1 102.2 2.6a129.244 129.244 0 0 1 51.593 0 127.308 127.308 0 0 1 45.77 19.26 128.367 128.367 0 0 1 46.375 56.316A127.343 127.343 0 0 1 253.4 102.2a129.248 129.248 0 0 1 0 51.593 127.3 127.3 0 0 1-19.26 45.77 128.382 128.382 0 0 1-56.316 46.375A127.4 127.4 0 0 1 153.8 253.4 128.977 128.977 0 0 1 128 256zm0-242.287a115.145 115.145 0 0 0-23.033 2.322A113.657 113.657 0 0 0 64.1 33.232a114.622 114.622 0 0 0-41.4 50.283 113.7 113.7 0 0 0-6.659 21.452 115.4 115.4 0 0 0 0 46.065 113.66 113.66 0 0 0 17.2 40.866 114.627 114.627 0 0 0 50.282 41.407 113.75 113.75 0 0 0 21.453 6.658 115.381 115.381 0 0 0 46.065 0 113.609 113.609 0 0 0 40.866-17.2 114.622 114.622 0 0 0 41.393-50.278 113.741 113.741 0 0 0 6.659-21.453 115.4 115.4 0 0 0 0-46.065 113.662 113.662 0 0 0-17.2-40.865A114.619 114.619 0 0 0 172.485 22.7a113.74 113.74 0 0 0-21.453-6.659A115.145 115.145 0 0 0 128 13.714z"}),r&&(0,d.jsx)("image",{x:"25",y:"25",href:"/icons/tokens/".concat(r.toLowerCase(),".svg"),width:"206",height:"206"})]})]})}));function j(e){var n=e.symbol,r=e.aToken,t=(0,s.Z)(e,u);return(0,d.jsx)(o.Z,p(p({},t),{},{sx:p({display:"flex",position:"relative",borderRadius:"50%"},t.sx),children:r?(0,d.jsx)(y,{symbol:n}):(0,d.jsx)("img",{src:"/icons/tokens/".concat(n.toLowerCase(),".svg"),width:"100%",height:"100%",alt:"".concat(n," icon")})}))}function v(e){var n=e.symbols,r=e.badgeSymbol,t=(0,s.Z)(e,x);return r?(0,d.jsx)(c.Z,{badgeContent:(0,d.jsx)(j,{symbol:r,sx:{border:"1px solid #fff"},fontSize:"small"}),sx:{".MuiBadge-anchorOriginTopRight":{top:9}},children:n.map((function(e,n){return(0,l.createElement)(j,p(p({},t),{},{key:e,symbol:e,sx:p({ml:0===n?0:"calc(-1 * 0.5em)"},t.sx)}))}))}):(0,d.jsx)(a.Z,{sx:{display:"inline-flex",position:"relative"},children:n.map((function(e,n){return(0,l.createElement)(j,p(p({},t),{},{key:e,symbol:e,sx:p({ml:0===n?0:"calc(-1 * 0.5em)"},t.sx)}))}))})}function g(e){var n=e.symbol,r=(0,s.Z)(e,m),i=n.split("_");if(i.length>1){var o=(0,t.Z)(i),a=o[0],c=o.slice(1);return(0,d.jsx)(v,p(p({},r),{},{symbols:c,badgeSymbol:"/pools/"+a}))}return(0,d.jsx)(j,p({symbol:n},r))}y.displayName="ATokenIcon"},15591:function(e,n,r){"use strict";r.d(n,{B:function(){return i},g:function(){return s}});var t=r(90116),i={governance:["governance"],staking:["staking"],pool:["pool"],incentives:["incentives"],gho:["gho"],market:function(e){return[e.chainId,!!e.isFork,e.market]},user:function(e){return[e]},powers:function(e,n){return[].concat((0,t.Z)(i.governance),(0,t.Z)(i.user(e)),(0,t.Z)(i.market(n)),["powers"])},voteOnProposal:function(e,n,r){return[].concat((0,t.Z)(i.governance),(0,t.Z)(i.user(e)),(0,t.Z)(i.market(r)),[n,"voteOnProposal"])},votingPowerAt:function(e,n,r,s){return[].concat((0,t.Z)(i.governance),(0,t.Z)(i.user(e)),(0,t.Z)(i.market(s)),[n,r,"votingPowerAt"])},governanceTokens:function(e,n){return[].concat((0,t.Z)(i.governance),(0,t.Z)(i.user(e)),(0,t.Z)(i.market(n)),["governanceTokens"])},transactionHistory:function(e,n){return[].concat((0,t.Z)(i.user(e)),(0,t.Z)(i.market(n)),["transactionHistory"])},poolTokens:function(e,n){return[].concat((0,t.Z)(i.pool),(0,t.Z)(i.user(e)),(0,t.Z)(i.market(n)),["poolTokens"])},poolReservesDataHumanized:function(e){return[].concat((0,t.Z)(i.pool),(0,t.Z)(i.market(e)),["poolReservesDataHumanized"])},generalStakeUiData:function(e){return[].concat((0,t.Z)(i.staking),(0,t.Z)(i.market(e)),["generalStakeUiData"])},userStakeUiData:function(e,n){return[].concat((0,t.Z)(i.staking),(0,t.Z)(i.user(e)),(0,t.Z)(i.market(n)),["userStakeUiData"])},paraswapRates:function(e,n,r,s,o){return[].concat((0,t.Z)(i.user(o)),[e,n,r,s,"paraswapRates"])},gasPrices:function(e){return[e,"gasPrices"]},poolApprovedAmount:function(e,n,r){return[].concat((0,t.Z)(i.pool),(0,t.Z)(i.user(e)),(0,t.Z)(i.market(r)),[n,"poolApprovedAmount"])},approvedAmount:function(e,n,r,s){return[].concat((0,t.Z)(i.user(e)),(0,t.Z)(i.market(s)),[n,r,"approvedAmount"])}},s=6e4},42968:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/history",function(){return r(9074)}])}},function(e){e.O(0,[3327,6740,4459,3299,9774,2888,179],(function(){return n=42968,e(e.s=n);var n}));var n=e.O();_N_E=n}]);