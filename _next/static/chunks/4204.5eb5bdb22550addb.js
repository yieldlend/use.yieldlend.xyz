"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4204],{29002:function(e,r,t){t.d(r,{o:function(){return u}});var n=t(59499),o=t(4730),a=t(81645),s=t(85893),i=["sx"];function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var u=function(e){var r=e.sx,t=(0,o.Z)(e,i);return(0,s.jsxs)(a.Z,l(l({sx:l({fill:"none",stroke:"#A5A8B6"},r),viewBox:"0 0 21 19",xmlns:"http://www.w3.org/2000/svg","aria-label":"Wallet"},t),{},{children:[(0,s.jsxs)("g",{clipPath:"url(#clip0_3719_3323)",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M17.3203 17.398H3.32031C2.78988 17.398 2.28117 17.1872 1.9061 16.8122C1.53103 16.4371 1.32031 15.9284 1.32031 15.3979V6.39795C1.32031 5.86752 1.53103 5.35881 1.9061 4.98374C2.28117 4.60866 2.78988 4.39795 3.32031 4.39795H17.3203C17.8507 4.39795 18.3595 4.60866 18.7345 4.98374C19.1096 5.35881 19.3203 5.86752 19.3203 6.39795V15.3979C19.3203 15.9284 19.1096 16.4371 18.7345 16.8122C18.3595 17.1872 17.8507 17.398 17.3203 17.398Z"}),(0,s.jsx)("path",{d:"M14.8203 11.3979C14.6877 11.3979 14.5605 11.3453 14.4668 11.2515C14.373 11.1577 14.3203 11.0306 14.3203 10.8979C14.3203 10.7653 14.373 10.6382 14.4668 10.5444C14.5605 10.4506 14.6877 10.3979 14.8203 10.3979C14.9529 10.3979 15.0801 10.4506 15.1739 10.5444C15.2676 10.6382 15.3203 10.7653 15.3203 10.8979C15.3203 11.0306 15.2676 11.1577 15.1739 11.2515C15.0801 11.3453 14.9529 11.3979 14.8203 11.3979Z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M16.3203 4.39793V2.99993C16.3202 2.69343 16.2497 2.39106 16.1142 2.11615C15.9787 1.84124 15.7818 1.60116 15.5387 1.41444C15.2956 1.22773 15.0129 1.09937 14.7124 1.03929C14.4118 0.979209 14.1015 0.989009 13.8053 1.06793L2.80531 4.00093C2.37937 4.11444 2.00285 4.36549 1.7343 4.71506C1.46575 5.06462 1.32021 5.49312 1.32031 5.93393V6.39793"})]}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_3719_3323",children:(0,s.jsx)("rect",{width:"20",height:"19",fill:"white",transform:"translate(0.320312)"})})})]}))}},41024:function(e,r,t){t.d(r,{J:function(){return m},B:function(){return f}});var n=t(59499),o=t(4730),a=t(1279),s=t(29630),i=t(85893),c=["value","symbol","visibleDecimals","compact","percent","symbolsVariant","symbolsColor","roundDown","compactThreshold"];function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var d=["","K","M","B","T","P","E","Z","Y"],m=function(e){var r=e.value,t=e.visibleDecimals,n=void 0===t?2:t,o=e.roundDown,s=e.compactThreshold,i=(0,a.hE)(r),c=i.toFixed(0).length;s&&Number(r)<=s&&(c=0);var l=Math.min(Math.floor(c?(c-1)/3:0),d.length-1),u=d[l],m=(0,a.pV)(i,3*l).toNumber();return o&&(m=Math.trunc(Number(m)*Math.pow(10,n))/Math.pow(10,n)),{prefix:new Intl.NumberFormat("en-US",{maximumFractionDigits:n,minimumFractionDigits:n}).format(m),postfix:u}};function p(e){var r=e.value,t=e.visibleDecimals,n=e.roundDown,o=m({value:r,visibleDecimals:t,roundDown:n}),a=o.prefix,s=o.postfix;return(0,i.jsxs)(i.Fragment,{children:[a,s]})}function f(e){var r=e.value,t=e.symbol,n=e.visibleDecimals,a=e.compact,l=e.percent,d=e.symbolsVariant,m=e.symbolsColor,f=e.roundDown,v=e.compactThreshold,b=(0,o.Z)(e,c),h=l?100*Number(r):Number(r),x=null!==n&&void 0!==n?n:0;0===h?x=0:void 0===n&&(x=h>1||l||"USD"===t?2:7);var y=Math.pow(10,-x),g=0!==h&&Math.abs(h)<Math.abs(y),j=g?y:h,O=!1!==a&&(a||h>99999);return f&&!O&&(j=Math.trunc(Number(j)*Math.pow(10,x))/Math.pow(10,x)),(0,i.jsxs)(s.Z,u(u({},b),{},{sx:u({display:"inline-flex",flexDirection:"row",alignItems:"center",position:"relative"},b.sx),noWrap:!0,children:[g&&(0,i.jsx)(s.Z,{component:"span",sx:{mr:.5},variant:d||b.variant,color:m||"text.secondary",children:"<"}),"usd"===(null===t||void 0===t?void 0:t.toLowerCase())&&!l&&(0,i.jsx)(s.Z,{component:"span",sx:{mr:.5},variant:d||b.variant,color:m||"text.secondary",children:"$"}),O?(0,i.jsx)(p,{value:j,visibleDecimals:x,roundDown:f,compactThreshold:v}):new Intl.NumberFormat("en-US",{maximumFractionDigits:x,minimumFractionDigits:x}).format(j),l&&(0,i.jsx)(s.Z,{component:"span",sx:{ml:.5},variant:d||b.variant,color:m||"text.secondary",children:"%"}),"usd"!==(null===t||void 0===t?void 0:t.toLowerCase())&&"undefined"!==typeof t&&(0,i.jsx)(s.Z,{component:"span",sx:{ml:.5},variant:d||b.variant,color:m||"text.secondary",children:t})]}))}},72667:function(e,r,t){t.d(r,{Js:function(){return b},T1:function(){return g}});var n=t(83618),o=t(59499),a=t(4730),s=t(89722),i=t(61953),c=t(60082),l=t(67294),u=t(85893),d=["symbol","aToken"],m=["symbols","badgeSymbol"],p=["symbol"];function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function b(e){var r=e.symbol,t=e.onImageGenerated,n=e.aToken,o=(0,l.useRef)(null),a=(0,l.useRef)(null),s=(0,l.useState)(!0),i=s[0],c=s[1];return(0,l.useEffect)((function(){var e;if(!i&&o.current&&null!==(e=o.current)&&void 0!==e&&e.contentDocument)if(n){var r,s,c,l,u=null===(r=o.current)||void 0===r||null===(s=r.contentDocument)||void 0===s||null===(c=s.childNodes)||void 0===c?void 0:c[0],d=u.getAttribute("width"),m=u.getAttribute("height"),p=u.getAttribute("viewBox");u.setAttribute("x",25),u.setAttribute("width",206),u.setAttribute("y",25),u.setAttribute("height",206),p||u.setAttribute("viewBox","0 0 ".concat(d," ").concat(m)),null===(l=a.current)||void 0===l||l.appendChild(u);var f=(new XMLSerializer).serializeToString(a.current);t("data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(f)))))}else{var v,b=(new XMLSerializer).serializeToString(null===(v=o.current)||void 0===v?void 0:v.contentDocument);t("data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(b)))))}}),[i,n]),(0,u.jsxs)("div",{style:{visibility:"hidden",height:0,width:0,overflow:"hidden"},children:[(0,u.jsx)("object",{style:{opacity:1},ref:o,id:"svg",data:"/icons/tokens/".concat(r.toLowerCase(),".svg"),onLoad:function(){return c(!1)}}),n&&(0,u.jsx)(h,{ref:a})]})}var h=(0,l.forwardRef)((function(e,r){var t=e.symbol;return(0,u.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:r,id:"Group_30952",width:"256",height:"256",viewBox:"0 0 256 256",children:[(0,u.jsxs)("defs",{id:"defs10",children:[(0,u.jsxs)("linearGradient",{id:"linear-gradient",x1:".843",x2:".206",y1:".135",y2:".886",gradientUnits:"objectBoundingBox",children:[(0,u.jsx)("stop",{offset:"0",stopColor:"#b6509e",id:"stop2"}),(0,u.jsx)("stop",{offset:"1",stopColor:"#2ebac6",id:"stop4"})]}),(0,u.jsx)("linearGradient",{id:"linear-gradient-2",x1:".907",x2:".163",y1:".227",y2:".853"})]}),(0,u.jsxs)("g",{id:"Group_29109",children:[(0,u.jsx)("path",{id:"Subtraction_108",fill:"url(#linear-gradient)",d:"M128 256a128.976 128.976 0 0 1-25.8-2.6 127.309 127.309 0 0 1-45.77-19.261 128.366 128.366 0 0 1-46.375-56.315A127.357 127.357 0 0 1 2.6 153.8a129.251 129.251 0 0 1 0-51.593 127.31 127.31 0 0 1 19.26-45.77 128.372 128.372 0 0 1 56.317-46.378A127.33 127.33 0 0 1 102.2 2.6a129.244 129.244 0 0 1 51.593 0 127.308 127.308 0 0 1 45.77 19.26 128.367 128.367 0 0 1 46.375 56.316A127.343 127.343 0 0 1 253.4 102.2a129.248 129.248 0 0 1 0 51.593 127.3 127.3 0 0 1-19.26 45.77 128.382 128.382 0 0 1-56.316 46.375A127.4 127.4 0 0 1 153.8 253.4 128.977 128.977 0 0 1 128 256zm0-242.287a115.145 115.145 0 0 0-23.033 2.322A113.657 113.657 0 0 0 64.1 33.232a114.622 114.622 0 0 0-41.4 50.283 113.7 113.7 0 0 0-6.659 21.452 115.4 115.4 0 0 0 0 46.065 113.66 113.66 0 0 0 17.2 40.866 114.627 114.627 0 0 0 50.282 41.407 113.75 113.75 0 0 0 21.453 6.658 115.381 115.381 0 0 0 46.065 0 113.609 113.609 0 0 0 40.866-17.2 114.622 114.622 0 0 0 41.393-50.278 113.741 113.741 0 0 0 6.659-21.453 115.4 115.4 0 0 0 0-46.065 113.662 113.662 0 0 0-17.2-40.865A114.619 114.619 0 0 0 172.485 22.7a113.74 113.74 0 0 0-21.453-6.659A115.145 115.145 0 0 0 128 13.714z"}),t&&(0,u.jsx)("image",{x:"25",y:"25",href:"/icons/tokens/".concat(t.toLowerCase(),".svg"),width:"206",height:"206"})]})]})}));function x(e){var r=e.symbol,t=e.aToken,n=(0,a.Z)(e,d);return(0,u.jsx)(s.Z,v(v({},n),{},{sx:v({display:"flex",position:"relative",borderRadius:"50%"},n.sx),children:t?(0,u.jsx)(h,{symbol:r}):(0,u.jsx)("img",{src:"/icons/tokens/".concat(r.toLowerCase(),".svg"),width:"100%",height:"100%",alt:"".concat(r," icon")})}))}function y(e){var r=e.symbols,t=e.badgeSymbol,n=(0,a.Z)(e,m);return t?(0,u.jsx)(c.Z,{badgeContent:(0,u.jsx)(x,{symbol:t,sx:{border:"1px solid #fff"},fontSize:"small"}),sx:{".MuiBadge-anchorOriginTopRight":{top:9}},children:r.map((function(e,r){return(0,l.createElement)(x,v(v({},n),{},{key:e,symbol:e,sx:v({ml:0===r?0:"calc(-1 * 0.5em)"},n.sx)}))}))}):(0,u.jsx)(i.Z,{sx:{display:"inline-flex",position:"relative"},children:r.map((function(e,r){return(0,l.createElement)(x,v(v({},n),{},{key:e,symbol:e,sx:v({ml:0===r?0:"calc(-1 * 0.5em)"},n.sx)}))}))})}function g(e){var r=e.symbol,t=(0,a.Z)(e,p),o=r.split("_");if(o.length>1){var s=(0,n.Z)(o),i=s[0],c=s.slice(1);return(0,u.jsx)(y,v(v({},t),{},{symbols:c,badgeSymbol:"/pools/"+i}))}return(0,u.jsx)(x,v({symbol:r},t))}h.displayName="ATokenIcon"},34204:function(e,r,t){t.r(r),t.d(r,{CollateralChangeModal:function(){return L}});var n,o=t(59499),a=t(49501),s=(t(67294),t(8195)),i=t(31959),c=t(94635),l=t(1279),u=t(20854),d=t(29630),m=t(69331),p=t(34220),f=t(43629),v=t(67916),b=t(93608),h=t(20644),x=t(94671),y=t(18384),g=t(50029),j=t(87794),O=t.n(j),C=t(75331),w=t(89291),A=t(8656),_=t(67489),E=t(85893),T=function(e){var r=e.poolReserve,t=e.isWrongNetwork,n=e.usageAsCollateral,o=e.blocked,s=e.symbol,i=(0,A.Yh)((function(e){return e.setUsageAsCollateral})),c=(0,w.Q)({tryPermit:!1,protocolAction:C.UQ.setUsageAsCollateral,eventTxInfo:{assetName:r.name,asset:r.underlyingAsset,previousState:(!n).toString(),newState:n.toString()},handleGetTxns:function(){var e=(0,g.Z)(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i({reserve:r.underlyingAsset,usageAsCollateral:n}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),skip:o}),l=c.action,u=c.loadingTxns,d=c.mainTxState,m=c.requiresApproval;return(0,E.jsx)(_.B,{requiresApproval:m,blocked:o,preparingTransactions:u,mainTxState:d,isWrongNetwork:t,actionText:n?(0,E.jsx)(a.cC,{id:"Enable {symbol} as collateral",values:{symbol:s}}):(0,E.jsx)(a.cC,{id:"Disable {symbol} as collateral",values:{symbol:s}}),actionInProgressText:(0,E.jsx)(a.cC,{id:"Pending..."}),handleAction:l})};!function(e){e[e.DO_NOT_HAVE_SUPPLIES_IN_THIS_CURRENCY=0]="DO_NOT_HAVE_SUPPLIES_IN_THIS_CURRENCY",e[e.CAN_NOT_USE_THIS_CURRENCY_AS_COLLATERAL=1]="CAN_NOT_USE_THIS_CURRENCY_AS_COLLATERAL",e[e.CAN_NOT_SWITCH_USAGE_AS_COLLATERAL_MODE=2]="CAN_NOT_SWITCH_USAGE_AS_COLLATERAL_MODE",e[e.ZERO_LTV_WITHDRAW_BLOCKED=3]="ZERO_LTV_WITHDRAW_BLOCKED"}(n||(n={}));var k=function(e){var r=e.poolReserve,t=e.userReserve,o=e.isWrongNetwork,i=e.symbol,c=(0,s.vR)(),g=c.gasLimit,j=c.mainTxState,O=c.txError,C=(0,p.HT)().user,w=(0,f.ov)().debtCeiling,A=!t.usageAsCollateralEnabledOnUser,_=(0,l.hE)(C.totalCollateralMarketReferenceCurrency),k=!r.isIsolated&&A,D=!r.isIsolated&&!A,L=r.isIsolated&&A,S=r.isIsolated&&!A,P=_[A?"plus":"minus"](t.underlyingBalanceMarketReferenceCurrency),R=(0,u.L1)({collateralBalanceMarketReferenceCurrency:P,borrowBalanceMarketReferenceCurrency:C.totalBorrowsMarketReferenceCurrency,currentLiquidationThreshold:C.currentLiquidationThreshold}),Z=(0,x.Vc)(C),I=void 0;Z.length>0&&!Z.includes(r.symbol)?I=n.ZERO_LTV_WITHDRAW_BLOCKED:(0,l.hE)(t.underlyingBalance).eq(0)?I=n.DO_NOT_HAVE_SUPPLIES_IN_THIS_CURRENCY:!t.usageAsCollateralEnabledOnUser&&"0"===r.reserveLiquidationThreshold||"0"===r.reserveLiquidationThreshold?I=n.CAN_NOT_USE_THIS_CURRENCY_AS_COLLATERAL:t.usageAsCollateralEnabledOnUser&&"0"!==C.totalBorrowsMarketReferenceCurrency&&R.lte("1")&&(I=n.CAN_NOT_SWITCH_USAGE_AS_COLLATERAL_MODE);var N=function(){switch(I){case n.DO_NOT_HAVE_SUPPLIES_IN_THIS_CURRENCY:return(0,E.jsx)(a.cC,{id:"You do not have supplies in this currency"});case n.CAN_NOT_USE_THIS_CURRENCY_AS_COLLATERAL:return(0,E.jsx)(a.cC,{id:"You can not use this currency as collateral"});case n.CAN_NOT_SWITCH_USAGE_AS_COLLATERAL_MODE:return(0,E.jsx)(a.cC,{id:"You can not switch usage as collateral mode for this currency, because it will cause collateral call"});case n.ZERO_LTV_WITHDRAW_BLOCKED:return(0,E.jsx)(a.cC,{id:"Assets with zero LTV ({assetsBlockingWithdraw}) must be withdrawn or disabled as collateral to perform this action",values:{assetsBlockingWithdraw:Z}});default:return null}};return j.success?(0,E.jsx)(b.R,{collateral:A,symbol:r.symbol}):(0,E.jsxs)(E.Fragment,{children:[k&&(0,E.jsx)(m.v,{severity:"warning",icon:!1,sx:{mb:3},children:(0,E.jsx)(a.cC,{id:"Enabling this asset as collateral increases your borrowing power and Health Factor. However, it can get liquidated if your health factor drops below 1."})}),D&&(0,E.jsx)(m.v,{severity:"warning",icon:!1,sx:{mb:3},children:(0,E.jsx)(a.cC,{id:"Disabling this asset as collateral affects your borrowing power and Health Factor."})}),L&&(0,E.jsx)(y.i,{asset:r.symbol}),S&&(0,E.jsx)(m.v,{severity:"info",icon:!1,sx:{mb:3},children:(0,E.jsx)(a.cC,{id:"You will exit isolation mode and other tokens can now be used as collateral"})}),r.isIsolated&&w.determineWarningDisplay({debtCeiling:w}),(0,E.jsxs)(h.m6,{gasLimit:g,children:[(0,E.jsx)(h.oD,{symbol:r.symbol,iconSymbol:r.iconSymbol,description:(0,E.jsx)(a.cC,{id:"Supply balance"}),value:t.underlyingBalance}),(0,E.jsx)(h.jz,{visibleHfChange:!0,healthFactor:C.healthFactor,futureHealthFactor:R.toString(10)})]}),void 0!==I&&(0,E.jsx)(d.Z,{variant:"helperText",color:"error.main",children:(0,E.jsx)(N,{})}),O&&(0,E.jsx)(v.Q,{txError:O}),(0,E.jsx)(T,{symbol:i,poolReserve:r,usageAsCollateral:A,isWrongNetwork:o,blocked:void 0!==I})]})};function D(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var L=function(){var e=(0,s.vR)(),r=e.type,t=e.close,n=e.args;return(0,E.jsx)(i.P,{open:r===s.w8.CollateralChange,setOpen:t,children:(0,E.jsx)(c.A,{title:(0,E.jsx)(a.cC,{id:"Review tx"}),underlyingAsset:n.underlyingAsset,children:function(e){return(0,E.jsx)(k,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?D(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},e))}})})}},63491:function(e,r,t){t.d(r,{D:function(){return p}});var n=t(49501),o=t(5506),a=t(52758),s=t(61953),i=t(81645),c=t(29630),l=t(68346),u=t(75084),d=t(8195),m=t(85893),p=function(e){var r=e.txError,t=(0,d.vR)().close;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",mb:"92px"},children:[(0,m.jsx)(s.Z,{sx:{width:"48px",height:"48px",backgroundColor:"error.200",borderRadius:"50%",mt:14,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,m.jsx)(i.Z,{sx:{color:"error.main",fontSize:"32px"},children:(0,m.jsx)(o.Z,{})})}),(0,m.jsx)(c.Z,{sx:{mt:2},variant:"h2",children:(0,m.jsx)(n.cC,{id:"Transaction failed"})}),(0,m.jsx)(c.Z,{children:(0,m.jsx)(n.cC,{id:"You can report incident to our <0>Discord</0> or<1>Github</1>.",components:{0:(0,m.jsx)(l.Z,{href:"https://discord.com/invite/aave"}),1:(0,m.jsx)(l.Z,{href:"https://github.com/aave/interface"})}})}),(0,m.jsxs)(u.Z,{variant:"outlined",onClick:function(){return navigator.clipboard.writeText(r.rawError.message.toString())},size:"small",sx:{mt:6},children:[(0,m.jsx)(n.cC,{id:"Copy error text"}),(0,m.jsx)(i.Z,{sx:{ml:.5,fontSize:"12px"},children:(0,m.jsx)(a.Z,{})})]})]}),(0,m.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",mt:12},children:(0,m.jsx)(u.Z,{onClick:t,variant:"contained",size:"large",sx:{minHeight:"44px"},children:(0,m.jsx)(n.cC,{id:"Close"})})})]})}},94635:function(e,r,t){t.d(r,{A:function(){return x}});var n=t(80854),o=(t(67294),t(34220)),a=t(80664),s=t(43629),i=t(66209),c=t(8195),l=t(22454),u=t(77537),d=t(8656),m=t(25298),p=t(57609),f=t(78944),v=t(10343),b=t(63491),h=t(85893),x=function(e){var r,t,x=e.hideTitleSymbol,y=e.underlyingAsset,g=e.children,j=e.requiredChainId,O=e.title,C=e.requiredPermission,w=e.keepWrappedSymbol,A=(0,u.Z)().readOnlyModeAddress,_=(0,d.Yh)((function(e){return e.currentMarketData})),E=(0,d.Yh)((function(e){return e.currentNetworkConfig})),T=(0,a.P)(_).walletBalances,k=(0,o.HT)(),D=k.user,L=k.reserves,S=(0,c.vR)(),P=S.txError,R=S.mainTxState,Z=(0,l.T)().permissions,I=(0,i.Q)(j),N=I.isWrongNetwork,B=I.requiredChainId;if(P&&P.blocking)return(0,h.jsx)(b.D,{txError:P});if(C&&m.cr.permissions(_)&&!Z.includes(C)&&_.permissionComponent)return(0,h.jsx)(h.Fragment,{children:_.permissionComponent});var U=L.find((function(e){return y.toLowerCase()===n.hP.toLowerCase()?e.isWrappedBaseAsset:y===e.underlyingAsset})),H=null===D||void 0===D?void 0:D.userReservesData.find((function(e){return y.toLowerCase()===n.hP.toLowerCase()?e.reserve.isWrappedBaseAsset:y===e.underlyingAsset})),W=U.isWrappedBaseAsset&&!w?E.baseAssetSymbol:U.symbol;return(0,h.jsxs)(s.hv,{asset:U,children:[!R.success&&(0,h.jsx)(f.E,{title:O,symbol:x?void 0:W}),N&&!A&&(0,h.jsx)(v.I,{networkName:(0,m.Mo)(B).name,chainId:B,event:{eventName:p.vh.SWITCH_NETWORK,eventParams:{asset:y}}}),g({isWrongNetwork:N,nativeBalance:(null===(r=T[n.hP.toLowerCase()])||void 0===r?void 0:r.amount)||"0",tokenBalance:(null===(t=T[U.underlyingAsset.toLowerCase()])||void 0===t?void 0:t.amount)||"0",poolReserve:U,symbol:W,underlyingAsset:y,userReserve:H})]})}},93608:function(e,r,t){t.d(r,{R:function(){return b}});var n=t(49501),o=t(75331),a=t(62097),s=t(61953),i=t(29630),c=t(75084),l=t(67294),u=t(29002),d=t(41024),m=t(72667),p=t(77537),f=t(55200),v=t(85893),b=function(e){var r=e.txHash,t=e.action,b=e.amount,h=e.symbol,x=e.collateral,y=e.rate,g=e.addToken,j=e.customAction,O=e.customText,C=(0,p.Z)().addERC20Token,w=(0,l.useState)(""),A=w[0],_=w[1],E=(0,a.Z)();return(0,v.jsx)(f.R,{txHash:r,children:(0,v.jsxs)(s.Z,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[t&&b&&h&&(0,v.jsx)(i.Z,{children:(0,v.jsx)(n.cC,{id:"You {action} <0/> {symbol}",values:{action:t,symbol:h},components:{0:(0,v.jsx)(d.B,{value:Number(b),compact:!0,variant:"secondary14"})}})}),j&&(0,v.jsxs)(i.Z,{children:[O,j]}),!t&&!b&&h&&(0,v.jsxs)(i.Z,{children:["Your ",h," ",x?"now":"is not"," used as collateral"]}),y&&(0,v.jsx)(i.Z,{children:(0,v.jsx)(n.cC,{id:"You switched to {0} rate",values:{0:y===o.tk.Variable?"variable":"stable"}})}),g&&h&&(0,v.jsxs)(s.Z,{sx:function(e){return{border:"dark"===e.palette.mode?"1px solid ".concat(e.palette.divider):"none",background:"dark"===e.palette.mode?"none":"#F7F7F9",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",mt:"24px"}},children:[(0,v.jsx)(m.T1,{symbol:g.symbol,aToken:!(!g||!g.aToken),sx:{fontSize:"32px",mt:"12px",mb:"8px"}}),(0,v.jsx)(i.Z,{variant:"description",color:"text.primary",sx:{mx:"24px"},children:(0,v.jsx)(n.cC,{id:"Add {0} to wallet to track your balance.",values:{0:g&&g.aToken?"aToken ":"token "}})}),(0,v.jsxs)(c.Z,{onClick:function(){C({address:g.address,decimals:g.decimals,symbol:g.aToken?"y".concat(g.symbol):g.symbol,image:/_/.test(g.symbol)?void 0:A})},variant:"dark"===E.palette.mode?"outlined":"contained",size:"medium",sx:{mt:"8px",mb:"12px"},children:[g.symbol&&!/_/.test(g.symbol)&&(0,v.jsx)(m.Js,{symbol:g.symbol,onImageGenerated:_,aToken:g.aToken}),(0,v.jsx)(u.o,{sx:{width:"20px",height:"20px"}}),(0,v.jsx)(i.Z,{variant:"buttonM",color:"white",ml:"4px",children:(0,v.jsx)(n.cC,{id:"Add to wallet"})})]})]})]})})}},18384:function(e,r,t){t.d(r,{i:function(){return i}});var n=t(49501),o=t(29630),a=t(69331),s=t(85893),i=function(e){var r=e.asset,t=e.severity;return(0,s.jsxs)(a.v,{severity:t||"info",sx:{mb:3},children:[(0,s.jsx)(o.Z,{variant:"subheader1",mb:.5,children:(0,s.jsx)(n.cC,{id:"You are entering Isolation mode"})}),(0,s.jsx)(o.Z,{children:(0,s.jsx)(n.cC,{id:"In Isolation mode, you cannot supply other assets as collateral. A global debt ceiling limits the borrowing power of the isolated asset. To exit isolation mode disable {0} as collateral before borrowing another asset. Read more in our",values:{0:r||""}})})]})}},94671:function(e,r,t){t.d(r,{NI:function(){return n},gK:function(){return s},pQ:function(){return i},Fi:function(){return c},iv:function(){return l},Vc:function(){return u},yI:function(){return d}});var n,o=t(70794),a=t(29946);!function(e){e[e.SUPPLY_CAP_REACHED=0]="SUPPLY_CAP_REACHED",e[e.HF_BELOW_ONE=1]="HF_BELOW_ONE",e[e.NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH=2]="NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH",e[e.ZERO_LTV_WITHDRAW_BLOCKED=3]="ZERO_LTV_WITHDRAW_BLOCKED"}(n||(n={}));var s=function(e,r){return"-1"!==e&&new o.O(e).minus(new o.O(r)).lt("1.05")},i=65e3,c=55e3,l=function(e){var r=e.approvedAmount,t=e.signedAmount,n=e.amount;return!("-1"===r||"-1"===t||"0"!==r&&Number(r)>=Number(n)||Number(t)>=Number(n))},u=function(e){var r=[];return e.userReservesData.forEach((function(e){Number(e.scaledATokenBalance)>0&&"0"===e.reserve.baseLTVasCollateral&&e.usageAsCollateralEnabledOnUser&&"0"!==e.reserve.reserveLiquidationThreshold&&r.push(e.reserve.symbol)})),r},d=function(e,r,t,n){var o=e.reserve;if(!o.usageAsCollateralEnabled)return a.z.UNAVAILABLE;var s=a.z.ENABLED,i=e&&"0"!==e.scaledATokenBalance,c="0"!==r;return o.isIsolated?n?s=a.z.UNAVAILABLE:t?i?s=e.usageAsCollateralEnabledOnUser?a.z.ISOLATED_ENABLED:a.z.DISABLED:c&&(s=a.z.UNAVAILABLE_DUE_TO_ISOLATION):s=c?a.z.ISOLATED_DISABLED:a.z.ISOLATED_ENABLED:s=t?a.z.UNAVAILABLE_DUE_TO_ISOLATION:i?e.usageAsCollateralEnabledOnUser?a.z.ENABLED:a.z.DISABLED:a.z.ENABLED,s}},80664:function(e,r,t){t.d(r,{P:function(){return p}});var n=t(80854),o=t(1279),a=t(81206),s=t(82403),i=t(70794),c=t(8656),l=t(25298),u=t(52369),d=t(45257),m=function(e){var r=(0,c.Yh)((function(e){return e.account})),t=(0,d._)(e,r),m=(0,u.T)(e),p=t.find((function(e){return e.isLoading}))||m.find((function(e){return e.isLoading}));return{walletBalances:m.map((function(r,c){var u;return function(e){var r=e.reservesHumanized,t=e.balances,c=e.marketData,u=(null===r||void 0===r?void 0:r.reservesData)||[],d=(null===r||void 0===r?void 0:r.baseCurrencyData)||{marketReferenceCurrencyDecimals:0,marketReferenceCurrencyPriceInUsd:"0",networkBaseTokenPriceInUsd:"0",networkBaseTokenPriceDecimals:0},m=!0;return{walletBalances:(null!==t&&void 0!==t?t:[]).reduce((function(e,r){var t=u.find((function(e){var t;return r.address===n.hP.toLowerCase()?e.symbol.toLowerCase()===(null===(t=l.m5[c.chainId].wrappedBaseAssetSymbol)||void 0===t?void 0:t.toLowerCase()):e.underlyingAsset.toLowerCase()===r.address}));return"0"!==r.amount&&(m=!1),t&&(e[r.address]={amount:(0,o.Fv)(r.amount,t.decimals),amountUSD:(0,a.Z)({amount:new i.O(r.amount),currencyDecimals:t.decimals,priceInMarketReferenceCurrency:t.priceInMarketReferenceCurrency,marketReferenceCurrencyDecimals:d.marketReferenceCurrencyDecimals,normalizedMarketReferencePriceInUsd:(0,o.Fv)(d.marketReferenceCurrencyPriceInUsd,s.$3)})}),e}),{}),hasEmptyWallet:m}}({reservesHumanized:r.data,balances:null===(u=t[c])||void 0===u?void 0:u.data,marketData:e[c]})})),isLoading:p}},p=function(e){var r=m([e]),t=r.walletBalances,n=r.isLoading;return{walletBalances:t[0].walletBalances,hasEmptyWallet:t[0].hasEmptyWallet,loading:n}}},52369:function(e,r,t){t.d(r,{T:function(){return c},J:function(){return l}});var n=t(59499),o=t(87669),a=t(31001),s=t(12987);function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var c=function(e,r){var t=(0,s.z)().uiPoolService;return(0,o.h)({queries:e.map((function(e){return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({queryKey:a.B.poolReservesDataHumanized(e),queryFn:function(){return t.getReservesHumanized(e)},refetchInterval:a.g,meta:{}},r)}))})},l=function(e){return c([e])[0]}},45257:function(e,r,t){t.d(r,{_:function(){return c}});var n=t(59499),o=t(87669),a=(t(8656),t(31001)),s=t(12987);function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var c=function(e,r,t){var c=(0,s.z)().poolTokensBalanceService;return(0,o.h)({queries:e.map((function(e){return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({queryKey:a.B.poolTokens(r,e),queryFn:function(){return c.getPoolTokensBalances(e,r)},enabled:!!r,refetchInterval:a.g},t)}))})}},31001:function(e,r,t){t.d(r,{B:function(){return o},g:function(){return a}});var n=t(90116),o={governance:["governance"],staking:["staking"],pool:["pool"],incentives:["incentives"],gho:["gho"],market:function(e){return[e.chainId,!!e.isFork,e.market]},user:function(e){return[e]},powers:function(e,r){return[].concat((0,n.Z)(o.governance),(0,n.Z)(o.user(e)),(0,n.Z)(o.market(r)),["powers"])},voteOnProposal:function(e,r,t){return[].concat((0,n.Z)(o.governance),(0,n.Z)(o.user(e)),(0,n.Z)(o.market(t)),[r,"voteOnProposal"])},votingPowerAt:function(e,r,t,a){return[].concat((0,n.Z)(o.governance),(0,n.Z)(o.user(e)),(0,n.Z)(o.market(a)),[r,t,"votingPowerAt"])},governanceTokens:function(e,r){return[].concat((0,n.Z)(o.governance),(0,n.Z)(o.user(e)),(0,n.Z)(o.market(r)),["governanceTokens"])},transactionHistory:function(e,r){return[].concat((0,n.Z)(o.user(e)),(0,n.Z)(o.market(r)),["transactionHistory"])},poolTokens:function(e,r){return[].concat((0,n.Z)(o.pool),(0,n.Z)(o.user(e)),(0,n.Z)(o.market(r)),["poolTokens"])},poolReservesDataHumanized:function(e){return[].concat((0,n.Z)(o.pool),(0,n.Z)(o.market(e)),["poolReservesDataHumanized"])},generalStakeUiData:function(e){return[].concat((0,n.Z)(o.staking),(0,n.Z)(o.market(e)),["generalStakeUiData"])},userStakeUiData:function(e,r){return[].concat((0,n.Z)(o.staking),(0,n.Z)(o.user(e)),(0,n.Z)(o.market(r)),["userStakeUiData"])},paraswapRates:function(e,r,t,a,s){return[].concat((0,n.Z)(o.user(s)),[e,r,t,a,"paraswapRates"])},gasPrices:function(e){return[e,"gasPrices"]},poolApprovedAmount:function(e,r,t){return[].concat((0,n.Z)(o.pool),(0,n.Z)(o.user(e)),(0,n.Z)(o.market(t)),[r,"poolApprovedAmount"])},approvedAmount:function(e,r,t,a){return[].concat((0,n.Z)(o.user(e)),(0,n.Z)(o.market(a)),[r,t,"approvedAmount"])}},a=6e4}}]);