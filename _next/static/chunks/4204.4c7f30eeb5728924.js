"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4204],{29002:function(e,r,t){t.d(r,{o:function(){return d}});var n=t(59499),s=t(4730),o=t(81645),i=t(85893),a=["sx"];function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var d=function(e){var r=e.sx,t=(0,s.Z)(e,a);return(0,i.jsxs)(o.Z,c(c({sx:c({fill:"none",stroke:"#A5A8B6"},r),viewBox:"0 0 21 19",xmlns:"http://www.w3.org/2000/svg","aria-label":"Wallet"},t),{},{children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_3719_3323)",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M17.3203 17.398H3.32031C2.78988 17.398 2.28117 17.1872 1.9061 16.8122C1.53103 16.4371 1.32031 15.9284 1.32031 15.3979V6.39795C1.32031 5.86752 1.53103 5.35881 1.9061 4.98374C2.28117 4.60866 2.78988 4.39795 3.32031 4.39795H17.3203C17.8507 4.39795 18.3595 4.60866 18.7345 4.98374C19.1096 5.35881 19.3203 5.86752 19.3203 6.39795V15.3979C19.3203 15.9284 19.1096 16.4371 18.7345 16.8122C18.3595 17.1872 17.8507 17.398 17.3203 17.398Z"}),(0,i.jsx)("path",{d:"M14.8203 11.3979C14.6877 11.3979 14.5605 11.3453 14.4668 11.2515C14.373 11.1577 14.3203 11.0306 14.3203 10.8979C14.3203 10.7653 14.373 10.6382 14.4668 10.5444C14.5605 10.4506 14.6877 10.3979 14.8203 10.3979C14.9529 10.3979 15.0801 10.4506 15.1739 10.5444C15.2676 10.6382 15.3203 10.7653 15.3203 10.8979C15.3203 11.0306 15.2676 11.1577 15.1739 11.2515C15.0801 11.3453 14.9529 11.3979 14.8203 11.3979Z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M16.3203 4.39793V2.99993C16.3202 2.69343 16.2497 2.39106 16.1142 2.11615C15.9787 1.84124 15.7818 1.60116 15.5387 1.41444C15.2956 1.22773 15.0129 1.09937 14.7124 1.03929C14.4118 0.979209 14.1015 0.989009 13.8053 1.06793L2.80531 4.00093C2.37937 4.11444 2.00285 4.36549 1.7343 4.71506C1.46575 5.06462 1.32021 5.49312 1.32031 5.93393V6.39793"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_3719_3323",children:(0,i.jsx)("rect",{width:"20",height:"19",fill:"white",transform:"translate(0.320312)"})})})]}))}},34204:function(e,r,t){t.r(r),t.d(r,{CollateralChangeModal:function(){return k}});var n,s=t(59499),o=t(49501),i=(t(67294),t(8195)),a=t(31959),l=t(94635),c=t(1279),d=t(20854),u=t(29630),x=t(69331),h=t(34220),m=t(43629),p=t(67916),C=t(93608),b=t(57824),f=t(94671),j=t(18384),y=t(50029),v=t(87794),g=t.n(v),_=t(75331),A=t(89291),O=t(8656),T=t(67489),w=t(85893),E=function(e){var r=e.poolReserve,t=e.isWrongNetwork,n=e.usageAsCollateral,s=e.blocked,i=e.symbol,a=(0,O.Yh)((function(e){return e.setUsageAsCollateral})),l=(0,A.Q)({tryPermit:!1,protocolAction:_.UQ.setUsageAsCollateral,eventTxInfo:{assetName:r.name,asset:r.underlyingAsset,previousState:(!n).toString(),newState:n.toString()},handleGetTxns:function(){var e=(0,y.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a({reserve:r.underlyingAsset,usageAsCollateral:n}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),skip:s}),c=l.action,d=l.loadingTxns,u=l.mainTxState,x=l.requiresApproval;return(0,w.jsx)(T.B,{requiresApproval:x,blocked:s,preparingTransactions:d,mainTxState:u,isWrongNetwork:t,actionText:n?(0,w.jsx)(o.cC,{id:"Enable {symbol} as collateral",values:{symbol:i}}):(0,w.jsx)(o.cC,{id:"Disable {symbol} as collateral",values:{symbol:i}}),actionInProgressText:(0,w.jsx)(o.cC,{id:"Pending..."}),handleAction:c})};!function(e){e[e.DO_NOT_HAVE_SUPPLIES_IN_THIS_CURRENCY=0]="DO_NOT_HAVE_SUPPLIES_IN_THIS_CURRENCY",e[e.CAN_NOT_USE_THIS_CURRENCY_AS_COLLATERAL=1]="CAN_NOT_USE_THIS_CURRENCY_AS_COLLATERAL",e[e.CAN_NOT_SWITCH_USAGE_AS_COLLATERAL_MODE=2]="CAN_NOT_SWITCH_USAGE_AS_COLLATERAL_MODE",e[e.ZERO_LTV_WITHDRAW_BLOCKED=3]="ZERO_LTV_WITHDRAW_BLOCKED"}(n||(n={}));var S=function(e){var r=e.poolReserve,t=e.userReserve,s=e.isWrongNetwork,a=e.symbol,l=(0,i.vR)(),y=l.gasLimit,v=l.mainTxState,g=l.txError,_=(0,h.HT)().user,A=(0,m.ov)().debtCeiling,O=!t.usageAsCollateralEnabledOnUser,T=(0,c.hE)(_.totalCollateralMarketReferenceCurrency),S=!r.isIsolated&&O,R=!r.isIsolated&&!O,k=r.isIsolated&&O,L=r.isIsolated&&!O,N=T[O?"plus":"minus"](t.underlyingBalanceMarketReferenceCurrency),I=(0,d.L1)({collateralBalanceMarketReferenceCurrency:N,borrowBalanceMarketReferenceCurrency:_.totalBorrowsMarketReferenceCurrency,currentLiquidationThreshold:_.currentLiquidationThreshold}),Z=(0,f.Vc)(_),D=void 0;Z.length>0&&!Z.includes(r.symbol)?D=n.ZERO_LTV_WITHDRAW_BLOCKED:(0,c.hE)(t.underlyingBalance).eq(0)?D=n.DO_NOT_HAVE_SUPPLIES_IN_THIS_CURRENCY:!t.usageAsCollateralEnabledOnUser&&"0"===r.reserveLiquidationThreshold||"0"===r.reserveLiquidationThreshold?D=n.CAN_NOT_USE_THIS_CURRENCY_AS_COLLATERAL:t.usageAsCollateralEnabledOnUser&&"0"!==_.totalBorrowsMarketReferenceCurrency&&I.lte("1")&&(D=n.CAN_NOT_SWITCH_USAGE_AS_COLLATERAL_MODE);var P=function(){switch(D){case n.DO_NOT_HAVE_SUPPLIES_IN_THIS_CURRENCY:return(0,w.jsx)(o.cC,{id:"You do not have supplies in this currency"});case n.CAN_NOT_USE_THIS_CURRENCY_AS_COLLATERAL:return(0,w.jsx)(o.cC,{id:"You can not use this currency as collateral"});case n.CAN_NOT_SWITCH_USAGE_AS_COLLATERAL_MODE:return(0,w.jsx)(o.cC,{id:"You can not switch usage as collateral mode for this currency, because it will cause collateral call"});case n.ZERO_LTV_WITHDRAW_BLOCKED:return(0,w.jsx)(o.cC,{id:"Assets with zero LTV ({assetsBlockingWithdraw}) must be withdrawn or disabled as collateral to perform this action",values:{assetsBlockingWithdraw:Z}});default:return null}};return v.success?(0,w.jsx)(C.R,{collateral:O,symbol:r.symbol}):(0,w.jsxs)(w.Fragment,{children:[S&&(0,w.jsx)(x.v,{severity:"warning",icon:!1,sx:{mb:3},children:(0,w.jsx)(o.cC,{id:"Enabling this asset as collateral increases your borrowing power and Health Factor. However, it can get liquidated if your health factor drops below 1."})}),R&&(0,w.jsx)(x.v,{severity:"warning",icon:!1,sx:{mb:3},children:(0,w.jsx)(o.cC,{id:"Disabling this asset as collateral affects your borrowing power and Health Factor."})}),k&&(0,w.jsx)(j.i,{asset:r.symbol}),L&&(0,w.jsx)(x.v,{severity:"info",icon:!1,sx:{mb:3},children:(0,w.jsx)(o.cC,{id:"You will exit isolation mode and other tokens can now be used as collateral"})}),r.isIsolated&&A.determineWarningDisplay({debtCeiling:A}),(0,w.jsxs)(b.m6,{gasLimit:y,children:[(0,w.jsx)(b.oD,{symbol:r.symbol,iconSymbol:r.iconSymbol,description:(0,w.jsx)(o.cC,{id:"Supply balance"}),value:t.underlyingBalance}),(0,w.jsx)(b.jz,{visibleHfChange:!0,healthFactor:_.healthFactor,futureHealthFactor:I.toString(10)})]}),void 0!==D&&(0,w.jsx)(u.Z,{variant:"helperText",color:"error.main",children:(0,w.jsx)(P,{})}),g&&(0,w.jsx)(p.Q,{txError:g}),(0,w.jsx)(E,{symbol:a,poolReserve:r,usageAsCollateral:O,isWrongNetwork:s,blocked:void 0!==D})]})};function R(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var k=function(){var e=(0,i.vR)(),r=e.type,t=e.close,n=e.args;return(0,w.jsx)(a.P,{open:r===i.w8.CollateralChange,setOpen:t,children:(0,w.jsx)(l.A,{title:(0,w.jsx)(o.cC,{id:"Review tx"}),underlyingAsset:n.underlyingAsset,children:function(e){return(0,w.jsx)(S,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?R(Object(t),!0).forEach((function(r){(0,s.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},e))}})})}},63491:function(e,r,t){t.d(r,{D:function(){return h}});var n=t(49501),s=t(5506),o=t(52758),i=t(61953),a=t(81645),l=t(29630),c=t(68346),d=t(75084),u=t(8195),x=t(85893),h=function(e){var r=e.txError,t=(0,u.vR)().close;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",mb:"92px"},children:[(0,x.jsx)(i.Z,{sx:{width:"48px",height:"48px",backgroundColor:"error.200",borderRadius:"50%",mt:14,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,x.jsx)(a.Z,{sx:{color:"error.main",fontSize:"32px"},children:(0,x.jsx)(s.Z,{})})}),(0,x.jsx)(l.Z,{sx:{mt:2},variant:"h2",children:(0,x.jsx)(n.cC,{id:"Transaction failed"})}),(0,x.jsx)(l.Z,{children:(0,x.jsx)(n.cC,{id:"You can report incident to our <0>Discord</0> or<1>Github</1>.",components:{0:(0,x.jsx)(c.Z,{href:"https://discord.com/invite/aave"}),1:(0,x.jsx)(c.Z,{href:"https://github.com/aave/interface"})}})}),(0,x.jsxs)(d.Z,{variant:"outlined",onClick:function(){return navigator.clipboard.writeText(r.rawError.message.toString())},size:"small",sx:{mt:6},children:[(0,x.jsx)(n.cC,{id:"Copy error text"}),(0,x.jsx)(a.Z,{sx:{ml:.5,fontSize:"12px"},children:(0,x.jsx)(o.Z,{})})]})]}),(0,x.jsx)(i.Z,{sx:{display:"flex",flexDirection:"column",mt:12},children:(0,x.jsx)(d.Z,{onClick:t,variant:"contained",size:"large",sx:{minHeight:"44px"},children:(0,x.jsx)(n.cC,{id:"Close"})})})]})}},94635:function(e,r,t){t.d(r,{A:function(){return f}});var n=t(80854),s=(t(67294),t(34220)),o=t(80664),i=t(43629),a=t(66209),l=t(8195),c=t(22454),d=t(77537),u=t(8656),x=t(25298),h=t(57609),m=t(78944),p=t(10343),C=t(63491),b=t(85893),f=function(e){var r,t,f=e.hideTitleSymbol,j=e.underlyingAsset,y=e.children,v=e.requiredChainId,g=e.title,_=e.requiredPermission,A=e.keepWrappedSymbol,O=(0,d.Z)().readOnlyModeAddress,T=(0,u.Yh)((function(e){return e.currentMarketData})),w=(0,u.Yh)((function(e){return e.currentNetworkConfig})),E=(0,o.P)(T).walletBalances,S=(0,s.HT)(),R=S.user,k=S.reserves,L=(0,l.vR)(),N=L.txError,I=L.mainTxState,Z=(0,c.T)().permissions,D=(0,a.Q)(v),P=D.isWrongNetwork,H=D.requiredChainId;if(N&&N.blocking)return(0,b.jsx)(C.D,{txError:N});if(_&&x.cr.permissions(T)&&!Z.includes(_)&&T.permissionComponent)return(0,b.jsx)(b.Fragment,{children:T.permissionComponent});var W=k.find((function(e){return j.toLowerCase()===n.hP.toLowerCase()?e.isWrappedBaseAsset:j===e.underlyingAsset})),U=null===R||void 0===R?void 0:R.userReservesData.find((function(e){return j.toLowerCase()===n.hP.toLowerCase()?e.reserve.isWrappedBaseAsset:j===e.underlyingAsset})),B=W.isWrappedBaseAsset&&!A?w.baseAssetSymbol:W.symbol;return(0,b.jsxs)(i.hv,{asset:W,children:[!I.success&&(0,b.jsx)(m.E,{title:g,symbol:f?void 0:B}),P&&!O&&(0,b.jsx)(p.I,{networkName:(0,x.Mo)(H).name,chainId:H,event:{eventName:h.vh.SWITCH_NETWORK,eventParams:{asset:j}}}),y({isWrongNetwork:P,nativeBalance:(null===(r=E[n.hP.toLowerCase()])||void 0===r?void 0:r.amount)||"0",tokenBalance:(null===(t=E[W.underlyingAsset.toLowerCase()])||void 0===t?void 0:t.amount)||"0",poolReserve:W,symbol:B,underlyingAsset:j,userReserve:U})]})}},93608:function(e,r,t){t.d(r,{R:function(){return C}});var n=t(49501),s=t(75331),o=t(62097),i=t(61953),a=t(29630),l=t(75084),c=t(67294),d=t(29002),u=t(41024),x=t(72667),h=t(77537),m=t(55200),p=t(85893),C=function(e){var r=e.txHash,t=e.action,C=e.amount,b=e.symbol,f=e.collateral,j=e.rate,y=e.addToken,v=e.customAction,g=e.customText,_=(0,h.Z)().addERC20Token,A=(0,c.useState)(""),O=A[0],T=A[1],w=(0,o.Z)();return(0,p.jsx)(m.R,{txHash:r,children:(0,p.jsxs)(i.Z,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[t&&C&&b&&(0,p.jsx)(a.Z,{children:(0,p.jsx)(n.cC,{id:"You {action} <0/> {symbol}",values:{action:t,symbol:b},components:{0:(0,p.jsx)(u.B,{value:Number(C),compact:!0,variant:"secondary14"})}})}),v&&(0,p.jsxs)(a.Z,{children:[g,v]}),!t&&!C&&b&&(0,p.jsxs)(a.Z,{children:["Your ",b," ",f?"now":"is not"," used as collateral"]}),j&&(0,p.jsx)(a.Z,{children:(0,p.jsx)(n.cC,{id:"You switched to {0} rate",values:{0:j===s.tk.Variable?"variable":"stable"}})}),y&&b&&(0,p.jsxs)(i.Z,{sx:function(e){return{border:"dark"===e.palette.mode?"1px solid ".concat(e.palette.divider):"none",background:"dark"===e.palette.mode?"none":"#F7F7F9",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",mt:"24px"}},children:[(0,p.jsx)(x.T1,{symbol:y.symbol,aToken:!(!y||!y.aToken),sx:{fontSize:"32px",mt:"12px",mb:"8px"}}),(0,p.jsx)(a.Z,{variant:"description",color:"text.primary",sx:{mx:"24px"},children:(0,p.jsx)(n.cC,{id:"Add {0} to wallet to track your balance.",values:{0:y&&y.aToken?"aToken ":"token "}})}),(0,p.jsxs)(l.Z,{onClick:function(){_({address:y.address,decimals:y.decimals,symbol:y.aToken?"y".concat(y.symbol):y.symbol,image:/_/.test(y.symbol)?void 0:O})},variant:"dark"===w.palette.mode?"outlined":"contained",size:"medium",sx:{mt:"8px",mb:"12px"},children:[y.symbol&&!/_/.test(y.symbol)&&(0,p.jsx)(x.Js,{symbol:y.symbol,onImageGenerated:T,aToken:y.aToken}),(0,p.jsx)(d.o,{sx:{width:"20px",height:"20px"}}),(0,p.jsx)(a.Z,{variant:"buttonM",color:"white",ml:"4px",children:(0,p.jsx)(n.cC,{id:"Add to wallet"})})]})]})]})})}},18384:function(e,r,t){t.d(r,{i:function(){return a}});var n=t(49501),s=t(29630),o=t(69331),i=t(85893),a=function(e){var r=e.asset,t=e.severity;return(0,i.jsxs)(o.v,{severity:t||"info",sx:{mb:3},children:[(0,i.jsx)(s.Z,{variant:"subheader1",mb:.5,children:(0,i.jsx)(n.cC,{id:"You are entering Isolation mode"})}),(0,i.jsx)(s.Z,{children:(0,i.jsx)(n.cC,{id:"In Isolation mode, you cannot supply other assets as collateral. A global debt ceiling limits the borrowing power of the isolated asset. To exit isolation mode disable {0} as collateral before borrowing another asset. Read more in our",values:{0:r||""}})})]})}}}]);